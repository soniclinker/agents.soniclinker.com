(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2238],{5781:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(37876);r(14232);var s=r(82987),n=r(47137),i=r(18858);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:r,size:n,asChild:c=!1,...o}=e,d=c?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:r,size:n,className:t})),...o})}},18858:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(69241),s=r(29573);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},27324:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/traffic/agent-touchpoints",function(){return r(63904)}])},36500:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});let a={h3WRAEWUo7zYW2tkS4oDhJ:{"http://localhost:8072":"https://spyne.ai"},ktUPWrQVR9jY3dY3iT9pFL:{"http://localhost:3000":"https://gokiwi.in","https://localhost:3000":"https://gokiwi.in"}},s=(e,t)=>{if(a[e])for(let[r,s]of Object.entries(a[e]))t=t.replace(r,s);let r=new URL(t),s=decodeURIComponent(r.pathname);return"".concat(r.protocol,"//").concat(r.host).concat(s)}},38389:(e,t,r)=>{"use strict";r.d(t,{O_:()=>s,UG:()=>n,iL:()=>a,yz:()=>i});let a=e=>{if("today"===e)return{start_time:new Date(new Date().setHours(0,0,0,0)).getTime(),end_time:Date.now()};if("7d"===e){let e=new Date;return e.setDate(e.getDate()-6),{start_time:new Date(e.setHours(0,0,0,0)).getTime(),end_time:new Date(new Date().setHours(23,59,59,999)).getTime()}}if("30d"===e){let e=new Date;return e.setDate(e.getDate()-29),{start_time:new Date(e.setHours(0,0,0,0)).getTime(),end_time:new Date(new Date().setHours(23,59,59,999)).getTime()}}if("90d"===e){let e=new Date;return e.setDate(e.getDate()-89),{start_time:new Date(e.setHours(0,0,0,0)).getTime(),end_time:new Date(new Date().setHours(23,59,59,999)).getTime()}}},s=e=>"today"===e?"hour":"7d"===e||"30d"===e?"day":"90d"===e?"month":"day";function n(){return Intl.DateTimeFormat().resolvedOptions().timeZone}let i=(e,t)=>{let r=new Date(e);return"hour"===t?r.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}):"day"===t?r.toLocaleDateString(navigator.language,{month:"short",day:"numeric"}):"month"===t?r.toLocaleDateString(navigator.language,{month:"short"}):r.toLocaleDateString(navigator.language,{month:"short",day:"numeric",year:"numeric"})}},44491:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>i});var a=r(37876);r(14232);var s=r(18858);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border-[0.4px] border-slate-200",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("h4",{"data-slot":"card-title",className:(0,s.cn)("leading-none",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6 [&:last-child]:pb-6",t),...r})}},57502:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var a=r(37876);r(14232);var s=r(82987),n=r(47137),i=r(18858);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,asChild:n=!1,...c}=e,o=n?s.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(l({variant:r}),t),...c})}},63904:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var a=r(37876),s=r(98188),n=r(65259),i=r(43598),l=r(95313),c=r(39861),o=r(16295),d=r(96012),u=r(37349),x=r(14232),m=r(36500),h=r(57502),g=r(5781),p=r(44491),b=r(70728);function f(e){let{delayDuration:t=0,...r}=e;return(0,a.jsx)(b.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...r})}var v=r(38389);let y=()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(l.A,{className:"h-4 w-4 animate-spin"})}),j=e=>{let{message:t}=e;return(0,a.jsx)("p",{className:"text-red-500 text-center p-8",children:t})};function w(e){let{item:t}=e;return(0,a.jsxs)("tr",{className:"border-b-[0.4px] border-slate-200 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"text-center py-3 px-2"}),(0,a.jsxs)("td",{className:"py-3 px-2 max-w-[20vw] flex items-center justify-between gap-3 w-full",children:[(0,a.jsx)("span",{className:"break-all",children:t.url}),(0,a.jsx)("div",{children:(0,a.jsx)(c.A,{className:"h-4 w-4 text-gray-500 cursor-pointer hover:text-gray-700",onClick:()=>{window.open(t.url,"_blank")}})})]}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)(h.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:t.chatgpt.toLocaleString()})}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)(h.E,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:t.perplexity.toLocaleString()})}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)(h.E,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:t.claude.toLocaleString()})}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)(h.E,{variant:"secondary",className:"bg-amber-100 text-amber-800",children:t.gemini.toLocaleString()})}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)("span",{className:"font-medium text-gray-900",children:t.total.toLocaleString()})})]})}function N(e){let{selectedDateRange:t}=e,[r,l]=(0,x.useState)(!0),[c,h]=(0,x.useState)(!1),[b,N]=(0,x.useState)("all_ai"),[k,_]=(0,x.useState)("desc"),[C,D]=(0,x.useState)([]),[A,S]=(0,x.useState)(1),[z,L]=(0,x.useState)(10);(0,x.useCallback)(e=>"chatgpt"===e?"chatgpt":"claude"===e?"claude":"perplexity"===e?"perplexity":"gemini"===e?"gemini":"all_ai",[]);let E=(0,x.useCallback)(async()=>{l(!0),h(!1);let e=(0,v.iL)(t);if(!e){h(!0),l(!1);return}let{start_time:r,end_time:a}=e,{data:s,error:c}=await n.A.doGet({path:"/orgs/".concat(i.A.current().id,"/trafficmon/dashboard?start_time=").concat(r,"&end_time=").concat(a,"&screen=content_analytics&order_by=").concat(b,"&limit=").concat(z,"&offset=").concat((A-1)*z)});if(c){h(!0),l(!1);return}D(s.urls.map(e=>{let{perplexity_bot:t=0,chatgpt_user:r=0,claude_user:a=0,gemini_deep_research:s=0,perplexity_user:n=0,claude_search_bot:l=0,oai_search_bot:c=0}=e,{url:o,...d}=e,u=Object.values(d).reduce((e,t)=>e+Number(t),0);return{url:(0,m.Y)(i.A.current().id,o),chatgpt:Number(r+c),perplexity:Number(n+t),claude:Number(a+l),gemini:Number(s),total:u}})),l(!1)},[t,b,A,z]);(0,x.useEffect)(()=>{E()},[E]);let P=(0,x.useCallback)(e=>b!==e?(0,a.jsx)(o.A,{className:"h-3 w-3 text-gray-400"}):"asc"===k?(0,a.jsx)(d.A,{className:"h-3 w-3 text-blue-600"}):"desc"===k?(0,a.jsx)(u.A,{className:"h-3 w-3 text-blue-600"}):(0,a.jsx)(o.A,{className:"h-3 w-3 text-gray-400"}),[b,k]),T=(0,x.useCallback)(e=>{switch(e){case"today":return"today";case"7d":return"last 7 days";case"30d":return"last 30 days";case"90d":return"last 90 days";default:return"selected period"}},[]),H=(0,x.useCallback)(e=>{b===e?(_(e=>"asc"===e?"desc":"desc"===e?null:"asc"),"desc"===k&&(N("all_ai"),_("desc"))):(N(e),_("desc"))},[b,k]);return(0,a.jsxs)(f,{children:[(0,a.jsxs)(p.Zp,{className:"col-span-2 bg-white shadow-md hover:shadow-lg",children:[(0,a.jsxs)(p.aR,{children:[(0,a.jsx)(p.ZB,{children:"Agent Engagement Hotspots"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Pages agents referenced for"," ",T(t)," while advising or purchasing on user's behalf."]})]}),(0,a.jsx)(p.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto h-[calc(100vh-26rem)]",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"".concat(r?"hidden":""," sticky top-0 bg-white"),children:(0,a.jsxs)("tr",{className:"border-b-[0.4px] border-slate-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-600 w-8"}),(0,a.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-600",children:"Page / Endpoint"}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>H("chatgpt"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["ChatGPT Agents",P("chatgpt")]})}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>H("perplexity"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["Perplexity Agents",P("perplexity")]})}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>H("claude"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["Claude Agents",P("claude")]})}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>H("gemini"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["Gemini Agents",P("gemini")]})}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>H("all_ai"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["Total Agents"," ",P("all_ai")]})})]})}),(0,a.jsx)("tbody",{children:r?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:10,className:"text-center p-8",children:(0,a.jsx)(y,{})})}):c?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:10,className:"text-center p-8",children:(0,a.jsx)(j,{message:"Something went wrong"})})}):C.length>0?C.map((e,t)=>(0,a.jsx)(w,{item:e},t)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:10,className:"text-center p-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No data available"})})})})]})})})]}),(0,a.jsx)(s.A,{currentPage:A,setCurrentPage:S,totalItems:C.length*(A+1),itemsPerPage:z,setItemsPerPage:L})]})}var k=r(64065);let _=()=>{let[e,t]=(0,x.useState)("today");return(0,a.jsxs)("div",{className:"space-y-6 p-4 bg-white min-h-[calc(100vh-5rem)]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Content Performance"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"How AI platforms interact with your content"})]}),(0,a.jsx)(k.U,{value:e,onChange:t})]}),(0,a.jsx)(N,{selectedDateRange:e})]})}},64065:(e,t,r)=>{"use strict";r.d(t,{U:()=>l});var a=r(37876),s=r(14232),n=r(48707),i=r(48963);function l(e){var t;let{selectedRange:r,onRangeChange:l,value:c,onChange:o}=e,[d,u]=(0,s.useState)(!1),x=(0,s.useRef)(null),m=r||c||"today",h=l||o||(()=>{}),g=[{value:"today",label:"Today"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}],p=(null===(t=g.find(e=>e.value===m))||void 0===t?void 0:t.label)||"Select range";(0,s.useEffect)(()=>{function e(e){x.current&&!x.current.contains(e.target)&&u(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let b=e=>{h(e),u(!1)};return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("div",{className:"relative",ref:x,children:[(0,a.jsx)("button",{onClick:()=>u(!d),className:"w-40 px-3 py-2 text-left bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-900",children:p}),(0,a.jsx)(i.A,{className:"h-4 w-4 text-gray-400 transition-transform ".concat(d?"rotate-180":"")})]})}),d&&(0,a.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg",children:(0,a.jsx)("div",{className:"py-1",children:g.map(e=>(0,a.jsx)("button",{onClick:()=>b(e.value),className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition-colors ".concat(m===e.value?"bg-blue-50 text-blue-900 font-medium":"text-gray-900"),children:e.label},e.value))})})]})]})}},98188:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(37876),s=r(14232),n=r(6246),i=r(28067),l=r(48963);let c=e=>{let{currentPage:t,setCurrentPage:r,totalItems:c,itemsPerPage:o,setItemsPerPage:d,hidePageNumbers:u=!1}=e,[x,m]=(0,s.useState)(!1),h=Math.ceil(c/o);if(c<=1)return null;let g=e=>{e>=1&&e<=h&&r(e)},p=e=>{d(e),r(1),m(!1)};return(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 px-6 bg-white border-t border-gray-200",children:[(0,a.jsx)("div",{className:"flex items-center text-sm text-gray-600",children:(0,a.jsxs)("span",{children:["Page ",t," of ",h]})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>g(t-1),disabled:1===t,className:"w-8 h-8 rounded flex items-center justify-center transition-colors ".concat(1===t?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 cursor-pointer"),children:(0,a.jsx)(n.A,{size:16})}),!u&&(0,a.jsx)("div",{className:"flex items-center gap-1 mx-2",children:(()=>{let e=[];if(h<=5)for(let r=1;r<=h;r++)e.push((0,a.jsx)("button",{onClick:()=>g(r),className:"w-8 h-8 rounded text-sm font-medium transition-colors cursor-pointer ".concat(t===r?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:r},r));else{if(e.push((0,a.jsx)("button",{onClick:()=>g(1),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(1===t?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:"1"},1)),t<=3){for(let r=2;r<=Math.min(4,h-1);r++)e.push((0,a.jsx)("button",{onClick:()=>g(r),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(t===r?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:r},r));h>5&&e.push((0,a.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-gray-400",children:"..."},"ellipsis"))}else if(t>=h-2){h>5&&e.push((0,a.jsx)("span",{className:"w-8 h-8 flex  items-center justify-center text-gray-400",children:"..."},"ellipsis"));for(let r=Math.max(h-3,2);r<=h-1;r++)e.push((0,a.jsx)("button",{onClick:()=>g(r),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(t===r?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:r},r))}else{e.push((0,a.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-gray-400",children:"..."},"ellipsis1"));for(let r=t-1;r<=t+1;r++)e.push((0,a.jsx)("button",{onClick:()=>g(r),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(t===r?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:r},r));e.push((0,a.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-gray-400",children:"..."},"ellipsis2"))}h>1&&e.push((0,a.jsx)("button",{onClick:()=>g(h),className:"w-8 h-8 rounded text-sm font-medium transition-colors ".concat(t===h?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:h},h))}return e})()}),(0,a.jsx)("button",{onClick:()=>g(t+1),disabled:t===h,className:"w-8 h-8 rounded flex items-center justify-center transition-colors ".concat(t===h?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 cursor-pointer"),children:(0,a.jsx)(i.A,{size:16})})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 relative",children:[(0,a.jsxs)("span",{className:"mr-2",children:[o," per page"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>m(!x),className:"flex items-center cursor-pointer justify-center w-6 h-6 rounded hover:bg-gray-100 transition-colors",children:(0,a.jsx)(l.A,{size:16})}),x&&(0,a.jsx)("div",{className:"absolute right-0 bottom-[35px] mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-10 min-w-[120px]",children:[5,10,20,50].map(e=>(0,a.jsxs)("button",{onClick:()=>p(e),className:"w-full cursor-pointer px-3 py-2 text-left text-sm hover:bg-gray-50 transition-colors ".concat(o===e?"bg-blue-50 text-blue-600":"text-gray-700"),children:[e," per page"]},e))})]})]}),x&&(0,a.jsx)("div",{className:"fixed inset-0 z-0",onClick:()=>m(!1)})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1765,1122,636,6593,8792],()=>t(27324)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9484],{28995:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(37876),s=r(74562),n=r(3176),i=r(65259),l=r(82400),o=r(43598),u=r(95313),d=r(89099),c=r(14232);let m=()=>{let e=(0,d.useRouter)();return(0,c.useEffect)(()=>{l.A.getOrgSetupRedirectPath()?setTimeout(()=>{s.A.show("Setup Business Profile",(0,a.jsx)(g,{}),!0)},0):n.A.aeoOnly?setTimeout(()=>{e.push("/traffic/agent-intelligence")},0):setTimeout(()=>{e.push("/")},0)},[e]),(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(u.A,{className:"h-6 w-6 animate-spin"})})},g=()=>{let[e,t]=(0,c.useState)(""),[r,n]=(0,c.useState)(!1),[u,d]=(0,c.useState)(null),m=async r=>{var a;if(r.preventDefault(),!(null==e?void 0:e.trim())){d("Please enter a valid organization name"),t("");return}n(!0);let u=o.A.current()?"/orgs/".concat(null===(a=o.A.current())||void 0===a?void 0:a.id):"/orgs/setup";try{let t=await i.A.doPost({path:u,data:{name:e}});if(t.error){d(t.error.message);return}await l.A.fetchCurrentUser();let r=o.A.current();r.name=e,o.A.setCurrent(r),s.A.hide(),window.location.reload()}catch(e){console.error("Error creating organization:",e),d("Unable to create organization")}finally{n(!1)}};return(0,a.jsxs)("form",{onSubmit:m,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"flex items-center justify-start",htmlFor:"orgName",children:(0,a.jsx)("span",{children:"Enter orgnaization name"})}),(0,a.jsx)("input",{type:"text",id:"orgName",required:!0,className:"w-full border border-gray-300 rounded px-2 py-1",value:e,onChange:e=>t(e.target.value)})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"If you're expecting to join an existing organization, please do not create a new one. Instead, wait for your administrator to add you as a member."}),u&&(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsx)("span",{className:"text-red-500",children:u})}),(0,a.jsx)("div",{className:"flex justify-end gap-2 mt-4",children:(0,a.jsx)("button",{type:"submit",className:"lg:px-4 lg:py-2 text-sm px-2 py-1 bgMediumBlue text-white rounded cursor-pointer disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:r,children:r?"Creating...":"Create"})})]})}},45500:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/post-login",function(){return r(28995)}])},95313:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(95551).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,6593,8792],()=>t(45500)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{1935:(e,t,a)=>{a(49049),a(35766);var r=a(99953);a(6508),t.p=r},6508:e=>{e.exports="2024-06-25"},7492:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var r=a(37876);a(14232);var n=a(69241),s=a(95313);let i={default:"bg-gray-500 hover:bg-gray-600 text-white",white:"bg-white hover:bg-gray-100 text-indigo-700 border border-indigo-700",primary:"bgHardBlue hover:bgHardBlue text-white",danger:"bg-red-600 hover:bg-red-700 text-white"},l=e=>{let{variant:t="default",loading:a=!1,children:l,className:o,loaderIcon:c,...d}=e;return(0,r.jsx)("button",{className:(0,n.A)(" text-xs font-semibold px-4 py-2 rounded-lg transition cursor-pointer flex items-center justify-center gap-2",i[t],o),disabled:a||d.disabled,...d,children:a?c||(0,r.jsx)(s.A,{className:"h-4 w-4 animate-spin"}):l})}},27182:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(95551).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},35766:e=>{var t=e.exports=function(e,a){if("function"==typeof e||a)return t.by(e,a);for(var r={object:[],function:[],string:{},number:{},boolean:{},undefined:{}},n=[],s=0;s<e.length;s++){var i=e[s],l="__proto__"===i?r.objects:r[typeof i]||r.objects;Array.isArray(l)?0>l.indexOf(i)&&(l.push(i),n.push(i)):Object.hasOwnProperty.call(l,i)||(l[i]=!0,n.push(i))}return n};t.by=function(e,t){if("function"==typeof e){var a=t;t=e,e=a}for(var r=[],n=0;n<e.length;n++){for(var s=e[n],i=!1,l=0;l<r.length;l++){var o=r[l];if(t.call(r,s,o)){i=!0;break}}i||r.push(s)}return r}},39149:(e,t,a)=>{var r=0/0,n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=parseInt,c="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,d="object"==typeof self&&self&&self.Object===Object&&self,u=c||d||Function("return this")(),m=Object.prototype.toString,g=Math.max,x=Math.min,h=function(){return u.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==m.call(t))return r;if(p(e)){var t,a="function"==typeof e.valueOf?e.valueOf():e;e=p(a)?a+"":a}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var c=i.test(e);return c||l.test(e)?o(e.slice(2),c?2:8):s.test(e)?r:+e}e.exports=function(e,t,a){var r,n,s,i,l,o,c=0,d=!1,u=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function f(t){var a=r,s=n;return r=n=void 0,c=t,i=e.apply(s,a)}function y(e){var a=e-o,r=e-c;return void 0===o||a>=t||a<0||u&&r>=s}function v(){var e,a,r,n=h();if(y(n))return j(n);l=setTimeout(v,(e=n-o,a=n-c,r=t-e,u?x(r,s-a):r))}function j(e){return(l=void 0,m&&r)?f(e):(r=n=void 0,i)}function N(){var e,a=h(),s=y(a);if(r=arguments,n=this,o=a,s){if(void 0===l)return c=e=o,l=setTimeout(v,t),d?f(e):i;if(u)return l=setTimeout(v,t),f(o)}return void 0===l&&(l=setTimeout(v,t)),i}return t=b(t)||0,p(a)&&(d=!!a.leading,s=(u="maxWait"in a)?g(b(a.maxWait)||0,t):s,m="trailing"in a?!!a.trailing:m),N.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=o=n=l=void 0},N.flush=function(){return void 0===l?i:j(h())},N}},42252:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eA});var r=a(37876),n=a(14232),s=a(14e3),i=a(82400),l=a(65259),o=a(58465),c=a(59884),d=a(95551);let u=(0,d.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var m=a(95313),g=a(9129),x=a(49034);a(36820);var h=a(74562);let p=e=>{let{phone:t,onClose:a}=e,[s,o]=(0,n.useState)(t),[c,d]=(0,n.useState)(""),[p,f]=(0,n.useState)(Array(6).fill("")),y=(0,n.useRef)(Array(6).fill(null)),[v,j]=(0,n.useState)(""),[N,w]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!1),[A,k]=(0,n.useState)(!1),[P]=(0,n.useState)(()=>{try{let e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=(0,x.zt)(e);return(null==t?void 0:t.id)||"IN"}catch(e){return"IN"}}),E=async()=>{if(!s){d("Please enter a valid phone number.");return}w(!0),d("");try{await i.A.sendOtp({email:null,phone:s})}catch(r){var e,t,a;(null===(a=r.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:null===(e=t.message)||void 0===e?void 0:e.includes("already exists"))?d("This phone number is already in use."):d("Failed to send OTP. Please try again.")}finally{w(!1)}},B=(e,t)=>{if(!/^\d?$/.test(t))return;let a=[...p];if(a[e]=t||"",f(a),j(""),t&&e<5){var r;null===(r=y.current[e+1])||void 0===r||r.focus()}},T=(e,t)=>{if("Backspace"===t.key){let t=[...p];if(t[e]="",f(t),e>0){var a;null===(a=y.current[e-1])||void 0===a||a.focus()}}},D=async()=>{let e=p.join("");if(6!==e.length){j("Please enter a valid 6-digit OTP.");return}C(!0),j("");try{let t=await l.A.doPost({path:"/auth/current",data:{phone:{otp:e,new_phone:s}}});if(t.error){"exists"===t.error.code?j("Phone number already exists"):j("Invalid OTP. Please try again.");return}await i.A.fetchCurrentUser(),k(!0),setTimeout(()=>{h.A.hide()},1500)}catch(e){console.error("Error updating phone:",e),j("Invalid OTP. Please try again.")}finally{C(!1)}};return A?(0,r.jsxs)("div",{className:"p-2 lg:p-2 flex flex-col items-center justify-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(u,{className:"w-8 h-8 text-green-600"})}),(0,r.jsx)("p",{className:"text-green-600 font-semibold text-lg",children:"Phone Updated Successfully!"}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm mt-2",children:["Your phone has been updated to ",s]})]}):(0,r.jsxs)("div",{className:"p-2 lg:p-2",children:[(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{className:"block fo nt-bold text-sm text-black",children:"Enter New Phone"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mt-4 w-full",children:[(0,r.jsx)(g.Ay,{international:!0,defaultCountry:P,value:s,onChange:e=>{o(e),d("")},inputComponent:b,className:"w-full sm:w-auto"}),(0,r.jsx)("button",{onClick:E,className:"w-full sm:w-auto bgMediumBlue text-white cursor-pointer px-4 py-2 rounded hover:bgHardBlue flex items-center justify-center gap-2",disabled:N,children:N?(0,r.jsx)(m.A,{className:"animate-spin w-5 h-5"}):"Send OTP"})]}),c&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2",children:c})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{className:"block font-bold text-sm text-black",children:"Enter OTP"}),(0,r.jsx)("div",{className:"flex justify-start sm:justify-start gap-2 mt-2",children:p.map((e,t)=>(0,r.jsx)("input",{ref:e=>{y.current[t]=e},type:"text",maxLength:1,value:e,onChange:e=>B(t,e.target.value),onKeyDown:e=>T(t,e),className:"w-10 h-10 sm:w-12 sm:h-12 border ".concat(v?"border-red-500":"border-indigo-600"," text-center text-black rounded text-lg sm:text-xl outline-none")},t))}),v&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2",children:v})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-6",children:[(0,r.jsx)("button",{onClick:D,className:"w-full sm:w-auto px-4 py-2 cursor-pointer bgMediumBlue text-white rounded hover:bgHardBlue transition flex items-center justify-center gap-2",disabled:S,children:S?(0,r.jsx)(m.A,{className:"animate-spin w-5 h-5"}):"Update Phone"}),(0,r.jsx)("button",{onClick:a,className:"w-full sm:w-auto px-4 py-2 border border-slate-300 cursor-pointer bgPrimary100 rounded hover:bg-slate-200 transition",children:"Cancel"})]})]})},b=(0,n.forwardRef)((e,t)=>{let{value:a,onChange:n}=e;return(0,r.jsx)("input",{ref:t,type:"tel",value:a,onChange:n,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})});b.displayName="CustomInput";let f=e=>{let{email:t,onClose:a}=e,[s,o]=(0,n.useState)(t),[c,d]=(0,n.useState)(""),[g,x]=(0,n.useState)(Array(6).fill("")),h=(0,n.useRef)(Array(6).fill(null)),[p,b]=(0,n.useState)(""),[f,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),S=async()=>{if(!s||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){d("Please enter a valid email address.");return}y(!0),d("");try{await i.A.sendOtp({email:s,phone:null})}catch(r){var e,t,a;(null===(a=r.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:null===(e=t.message)||void 0===e?void 0:e.includes("already exists"))?d("This email is already in use."):d("Failed to send OTP. Please try again.")}finally{y(!1)}},C=(e,t)=>{if(!/^\d?$/.test(t))return;let a=[...g];if(a[e]=t||"",x(a),b(""),t&&e<5){var r;null===(r=h.current[e+1])||void 0===r||r.focus()}},A=(e,t)=>{if("Backspace"===t.key){let t=[...g];if(t[e]="",x(t),e>0){var a;null===(a=h.current[e-1])||void 0===a||a.focus()}}},k=async()=>{let e=g.join("");if(6!==e.length){b("Please enter a valid 6-digit OTP.");return}j(!0),b("");try{let t=await l.A.doPost({path:"/auth/current",data:{email:{otp:e,new_email:s}}});if(t.error){"exists"===t.error.code?b(t.error.message):b("Invalid OTP. Please try again.");return}await i.A.fetchCurrentUser(),w(!0),setTimeout(()=>{a()},1500)}catch(e){console.error("Error updating email:",e),b("Invalid OTP. Please try again.")}finally{j(!1)}};return N?(0,r.jsxs)("div",{className:"p-2 lg:p-2 flex flex-col items-center justify-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(u,{className:"w-8 h-8 text-green-600"})}),(0,r.jsx)("p",{className:"text-green-600 font-semibold text-lg",children:"Email Updated Successfully!"}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm mt-2",children:["Your email has been updated to ",s]})]}):(0,r.jsxs)("div",{className:"p-2 lg:p-2",children:[(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{className:"block font-bold text-sm text-black",children:"Enter New Email"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mt-4 w-full",children:[(0,r.jsx)("input",{type:"email",placeholder:"Enter New Email",value:s,onChange:e=>{o(e.target.value),d("")},className:"border border-slate-300 rounded py-2 px-3 flex-1 focus:ring-2 focus:ring-blue-400 outline-none transition w-full sm:w-auto"}),(0,r.jsx)("button",{onClick:S,className:"w-full sm:w-auto bgMediumBlue text-white cursor-pointer px-4 py-2 rounded hover:bgHardBlue flex items-center justify-center gap-2",disabled:f,children:f?(0,r.jsx)(m.A,{className:"animate-spin w-5 h-5"}):"Send OTP"})]}),c&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2",children:c})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{className:"block font-bold text-sm text-black",children:"Enter OTP"}),(0,r.jsx)("div",{className:"flex justify-start sm:justify-start gap-2 mt-2",children:g.map((e,t)=>(0,r.jsx)("input",{ref:e=>{h.current[t]=e},type:"text",maxLength:1,value:e,onChange:e=>C(t,e.target.value),onKeyDown:e=>A(t,e),className:"w-10 h-10 sm:w-12 sm:h-12 border ".concat(p?"border-red-500":"border-indigo-600"," text-center text-black rounded text-lg sm:text-xl outline-none")},t))}),p&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2 text-center sm:text-left",children:p})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-6",children:[(0,r.jsx)("button",{onClick:k,className:"w-full sm:w-auto px-4 py-2 cursor-pointer bgMediumBlue text-white rounded hover:bgHardBlue transition flex items-center justify-center gap-2",disabled:v,children:v?(0,r.jsx)(m.A,{className:"animate-spin w-5 h-5"}):"Update Email"}),(0,r.jsx)("button",{onClick:a,className:"w-full sm:w-auto px-4 py-2 border border-slate-300 cursor-pointer bgPrimary100 rounded hover:bg-slate-200 transition",children:"Cancel"})]})]})},y=(0,d.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var v=a(27182);let j=e=>{let{email:t,onClose:a}=e,s=(0,n.useRef)(Array(6).fill(null)),[o,c]=(0,n.useState)(Array(6).fill("")),[d,g]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[p,b]=(0,n.useState)(""),[f,j]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!1),A=async()=>{if(!t)return alert("Error: No email found for current user.");w(!0),await i.A.sendOtp({email:t,phone:null}),w(!1)},k=async()=>{let e=o.join("");if(6!==e.length){g("Please enter a valid 6-digit OTP.");return}j(!0);try{if((await l.A.doPost({path:"/auth/current",data:{password:{email_otp:e,new_password:p}}})).error){g("Invalid OTP. Please try again.");return}await i.A.fetchCurrentUser(),C(!0),setTimeout(()=>{a()},1500)}catch(e){console.error("Error updating password:",e),g("Invalid OTP. Please try again.")}finally{j(!1)}};return S?(0,r.jsxs)("div",{className:"p-2 lg:p-2 flex flex-col items-center justify-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(u,{className:"w-8 h-8 text-green-600"})}),(0,r.jsx)("p",{className:"text-green-600 font-semibold text-lg",children:"Password Updated Successfully!"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:"Your password has been updated"})]}):(0,r.jsxs)("div",{className:"p-2 w-full",children:[(0,r.jsx)("p",{className:"textPrimary500 text-sm font-normal mt-3 leading-5"}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("label",{className:"block font-bold text-sm text-black",children:"Enter OTP"}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-4 lg:mt-2",children:[(0,r.jsx)("div",{className:"flex gap-2",children:o.map((e,t)=>(0,r.jsx)("input",{ref:e=>{s.current[t]=e},type:"text",maxLength:1,value:e,onChange:e=>{if(!/^\d?$/.test(e.target.value))return;let a=[...o];if(a[t]=e.target.value,c(a),g(""),e.target.value&&t<5){var r;null===(r=s.current[t+1])||void 0===r||r.focus()}},className:"w-10 h-10 sm:w-12 sm:h-12 border ".concat(d?"border-red-500":"border-indigo-600"," text-center rounded text-xl outline-none")},t))}),(0,r.jsx)("button",{onClick:A,className:"px-3 py-2 bgMediumBlue lg:mt-0  mt-2 text-white lg:w-max w-full rounded hover:bgHardBlue transition",disabled:N,children:N?(0,r.jsx)(m.A,{className:"animate-spin w-5 h-5"}):"Send OTP via Email"})]}),d&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2",children:d})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("label",{className:"block font-bold text-sm text-black",children:"Enter New Password"}),(0,r.jsxs)("div",{className:"relative mt-4 lg:mt-2",children:[(0,r.jsx)("input",{type:x?"text":"password",placeholder:"Enter New Password",value:p,onChange:e=>b(e.target.value),className:"w-full border border-slate-300 rounded py-2 px-3 focus:ring-2 focus:ring-blue-400 outline-none pr-10"}),(0,r.jsx)("div",{className:"absolute right-3 top-2.5 cursor-pointer textPrimary500",onClick:()=>h(!x),children:x?(0,r.jsx)(y,{size:20}):(0,r.jsx)(v.A,{size:20})})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-6",children:[(0,r.jsx)("button",{onClick:k,className:"w-full sm:w-auto px-4 py-2 bgMediumBlue text-white rounded hover:bgHardBlue transition flex items-center justify-center gap-2",disabled:f,children:f?(0,r.jsx)(m.A,{className:"animate-spin w-5 h-5"}):"Update Password"}),(0,r.jsx)("button",{onClick:a,className:"w-full sm:w-auto px-4 py-2 border border-slate-300 bgPrimary100 rounded hover:bg-slate-200 transition",children:"Cancel"})]})]})},N=e=>{let{initialName:t,fetchUser:a,onClose:s}=e,[o,c]=(0,n.useState)(t),[d,g]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),p=async()=>{if(o.trim()){g(!0);try{if((await l.A.doPost({path:"/auth/current",data:{name:o}})).error)return;await i.A.fetchCurrentUser(),await a(),h(!0),setTimeout(()=>{s()},1500)}catch(e){console.log("Error updating name:",e)}finally{g(!1)}}};return x?(0,r.jsxs)("div",{className:"p-2 lg:p-2 flex flex-col items-center justify-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(u,{className:"w-8 h-8 text-green-600"})}),(0,r.jsx)("p",{className:"text-green-600 font-semibold text-lg",children:"Name Updated Successfully!"}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm mt-2",children:["Your name has been updated to ",o]})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("label",{className:"block font-bold text-sm text-black",children:"Enter New Name"}),(0,r.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"New Name",className:"w-full lg:mt-2 mt-4 border border-slate-300 rounded py-2 px-3 focus:ring-2 focus:ring-blue-400 outline-none"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 mt-7 lg:mt-6",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 border border-slate-300 bgPrimary100 rounded hover:bg-slate-200 transition",children:"Cancel"}),(0,r.jsx)("button",{onClick:p,className:"px-4 py-2 bgMediumBlue text-white rounded hover:bgHardBlue transition flex items-center gap-2",disabled:d,children:d?(0,r.jsx)(m.A,{className:"animate-spin w-5 h-5",strokeWidth:"2.5"}):"Update Name"})]})]})};var w=a(7492);let S=()=>{let[e,t]=(0,n.useState)(null),[a,s]=(0,n.useState)(null),l=async()=>{let e=i.A.current();e&&t(e)};return((0,n.useEffect)(()=>{l()},[]),e)?(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:"flex justify-between items-center border-b pb-4 border-slate-200",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 lg:text-2xl",children:"Profile and Account"})}),(0,r.jsxs)("div",{className:"flex flex-col items-start lg:items-center md:items-center sm:flex-row sm:items-start sm:gap-4 mt-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(c.NBi,{color:"gray",className:"w-16 h-16 sm:w-20 sm:h-20"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between  w-full lg:justify-start mt-2",children:[(0,r.jsx)("p",{className:"text-black text-base font-semibold",children:null==e?void 0:e.name}),(0,r.jsx)(o.EaJ,{color:"#64748A",className:"ml-2 cursor-pointer",onClick:()=>h.A.show("Update Name",(0,r.jsx)(N,{initialName:(null==e?void 0:e.name)||"",fetchUser:l,onClose:()=>{h.A.hide(),l()}},null==e?void 0:e.name))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center sm:justify-start gap-2 textPrimary500 mt-1 lg:mt-2",children:[(0,r.jsx)("p",{className:"textPrimary500 font-semibold",children:(null==e?void 0:e.phone)||"Phone Not Set"}),(0,r.jsx)(o.EaJ,{color:"#64748A",className:"ml-2 cursor-pointer",onClick:()=>h.A.show("Update Phone Number",(0,r.jsx)(p,{phone:(null==e?void 0:e.phone)||"Phone Not Set",onClose:()=>{h.A.hide(),l()}}))})]})]})]}),(0,r.jsxs)("div",{className:"mt-9 lg:mt-1 lg:ml-110 md:mt-1 md:ml-40",children:[(0,r.jsx)("p",{className:"textSecondary600 font-semibold text-sm",children:"Email"}),(0,r.jsxs)("div",{className:"flex items-center justify-center sm:justify-start gap-2 mt-1 lg:mt-2 md:mt- break-all",children:[(0,r.jsx)("p",{className:"lg:text-black textPrimary500 text-base font-semibold break-all",children:null==e?void 0:e.email}),(0,r.jsx)(o.EaJ,{className:"ml-2 cursor-pointer shrink-0",color:"#64748A",onClick:()=>h.A.show("Update Email",(0,r.jsx)(f,{email:e.email,onClose:()=>{h.A.hide(),l()}}))})]})]})]}),(0,r.jsx)("div",{className:"lg:mt-14 mt-10",children:(0,r.jsx)("div",{className:"sm:ml-24",children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:(0,r.jsx)(w.$,{variant:"primary",onClick:()=>h.A.show("Change Password",(0,r.jsx)(j,{email:null==e?void 0:e.email,onClose:()=>{h.A.hide(),l()}})),className:"min-w-[180px] sm:w-max",children:"Change Password"})})})})})]}):(0,r.jsx)("p",{children:"Loading user settings..."})};var C=a(43598),A=a(1935),k=a(89099),P=a(55653);let E={llm:{provider:"",model:""},voice:{asr:{provider:"",language:""},tts:{provider:"",speech:"",language:""}},prompt_mode:"auto",text:{whatsapp:{extract_images:!0}},prompt:{trigger:"Hello",system:"You are a helpful agent."}},B=[],T=[],D=[];function R(e){let{onClose:t,agentId:a}=e,[s,l]=(0,n.useState)(" ");return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-100 bg-opacity-50 flex justify-center items-center",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("h3",{className:"text-xl mb-4",children:"Request call"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Phone Number"}),(0,r.jsx)("input",{type:"text",id:"callback_phoneNumber",className:"input input-bordered w-full"})]}),(0,r.jsxs)("div",{className:"flex justify-end",children:[(0,r.jsx)("button",{className:"btn btn-secondary mr-2",onClick:t,children:"Cancel"}),(0,r.jsx)("button",{className:"btn btn-primary",onClick:e=>{e.preventDefault(),l("Requesting a call");let t=document.getElementById("callback_phoneNumber").value.trim();axios.post(consts.backend+"/phone/call",{to:t,agent_id:a},{headers:{"x-auth-token":i.A.token}}).then(e=>{l("Successfully requested call")}).catch(e=>{console.log(e),l("Error while requesting a call")})},children:"Call"})]}),s&&(0,r.jsx)("span",{className:"mt-2",children:s})]})})})}let M=e=>{var t,a;let{agentId:s}=e,[i,o]=(0,n.useState)(JSON.parse(JSON.stringify(E))),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[g,x]=(0,n.useState)("loading"),[h,p]=(0,n.useState)(null),[b,f]=(0,n.useState)(""),[y,v]=(0,n.useState)(!1),j=(0,n.useRef)(new P.A(c)),[N,w]=(0,n.useState)([]),[S,A]=(0,n.useState)([]),[k,M]=(0,n.useState)([]),[O,U]=(0,n.useState)(!1),[I,L]=(0,n.useState)(0);(0,n.useEffect)(()=>{J()},[]),j.current.onStatusChange=()=>{v("connected"===j.current.status)};let _=!1;h&&(_=!function e(t,a){let r=Object.keys,n=typeof t,s=typeof a;return t&&a&&"object"===n&&n===s?r(t).length===r(a).length&&r(t).every(r=>e(t[r],a[r])):t===a}({id:c,name:u,data:i},h));let F=e=>{let t=B[0].models;for(let a=0;a<B.length;a++)if(B[a].value===e){t=B[a].models;break}M(t);let a=!1;for(let e of t)if(e.value===i.llm.model){a=!0;break}a||(i.llm.model=t[0].value)},z=e=>{let t=D[0].speeches;for(let a=0;a<D.length;a++)if(D[a].value===e){t=D[a].speeches;break}w(t);let a=!1;for(let e of t)if(e.value===i.voice.tts.speech){a=!0;break}a||(i.voice.tts.speech=t[0].value)},G=e=>{let t=T[0].languages;for(let a=0;a<T.length;a++)if(T[a].value===e){t=T[a].languages;break}A(t);let a=!1;for(let e of t)if(e.value===i.voice.asr.language){a=!0;break}a||(i.voice.asr.language=t[0].value)},K=(e,t)=>{let a=e.split(".");o(e=>{let r={...e},n=r;for(let e=0;e<a.length-1;e++)n=n[a[e]];return n[a[a.length-1]]=t,r}),"llm.provider"===e&&F(t),"voice.asr.provider"===e&&G(t),"voice.tts.provider"===e&&z(t)},H=async()=>{try{await l.A.doPost({path:"/agents/".concat(c,"/build"),data:{name:u,data:i}}),Z(),f(null)}catch(e){console.error("Error updating agent:",e),f("Unable to update")}},V=e=>{var t,a,r,n,s,i,l,c,u,g,h,b,f,y,v,N,w,S;m(e.name),d(e.id),j.current.setAgentId(e.id);let C={},A=JSON.parse(JSON.stringify(E));try{C=JSON.parse(e.data)}catch(e){}e.data=C;let k={llm:C.llm,prompt:C.prompt,prompt_mode:C.prompt_mode,text:C.text,voice:C.voice};p({id:e.id,name:e.name,data:k}),A.prompt.trigger=(null===(t=C.prompt)||void 0===t?void 0:t.trigger)||"",A.prompt.system=(null===(a=C.prompt)||void 0===a?void 0:a.system)||"",A.prompt_mode=C.prompt_mode||"auto",A.llm.provider=(null===(r=C.llm)||void 0===r?void 0:r.provider)||E.llm.provider,A.llm.model=(null===(n=C.llm)||void 0===n?void 0:n.model)||E.llm.model,A.voice.asr.provider=(null===(i=C.voice)||void 0===i?void 0:null===(s=i.asr)||void 0===s?void 0:s.provider)||E.voice.asr.provider,A.voice.asr.language=(null===(c=C.voice)||void 0===c?void 0:null===(l=c.asr)||void 0===l?void 0:l.language)||E.voice.asr.language,A.voice.tts.provider=(null===(g=C.voice)||void 0===g?void 0:null===(u=g.tts)||void 0===u?void 0:u.provider)||E.voice.tts.provider,A.voice.tts.speech=(null===(b=C.voice)||void 0===b?void 0:null===(h=b.tts)||void 0===h?void 0:h.speech)||E.voice.tts.speech,A.voice.tts.language=(null===(y=C.voice)||void 0===y?void 0:null===(f=y.tts)||void 0===f?void 0:f.language)||E.voice.tts.language,A.text.whatsapp.extract_images=void 0===(null===(N=C.text)||void 0===N?void 0:null===(v=N.whatsapp)||void 0===v?void 0:v.extract_images)?E.text.whatsapp.extract_images:null===(S=C.text)||void 0===S?void 0:null===(w=S.whatsapp)||void 0===w?void 0:w.extract_images,F(A.llm.provider),z(A.voice.tts.provider),G(A.voice.asr.provider),o(A),x("loaded")},Z=async()=>{let e=await l.A.doGet({path:"/orgs/".concat(C.A.currentId(),"/agents?limit=1&sort_by=created_at&sort_order=asc")});e.data&&e.data.agents&&e.data.agents.length>0&&V(e.data.agents[0])},J=async()=>{try{let e=await l.A.doGet({path:"/agents/config"});o(JSON.parse(JSON.stringify(e.data.defaultAgent))),E=e.data.defaultAgent,B=e.data.llm,T=e.data.voice.asr,D=e.data.voice.tts,F(E.llm.provider),z(E.voice.tts.provider),G(E.voice.asr.provider),Z()}catch(e){console.error("Error fetching agents config",e)}};return"loading"===g?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"p-4 mt-8 bg-white rounded-lg shadow-md",children:(0,r.jsx)("span",{children:"Loading.."})})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"p-4 mt-8",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("button",{type:"button",onClick:()=>j.current.toggleStatus(),className:"w-64 text-white bgMediumBlue hover:bgHardBlue rounded-lg px-5 py-2.5 me-2 mb-6 cursor-pointer",children:y?"Disconnect":"Talk to this agent"}),(0,r.jsx)("button",{type:"button",onClick:()=>U(!0),className:"w-64 text-white bgMediumBlue hover:bgHardBlue rounded-lg px-5 py-2.5 me-2 mb-8 cursor-pointer",children:"Request outbout call"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{className:"font-medium",children:"Name"}),(0,r.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),className:"border border-gray-300 p-2 rounded max-w-[24rem]",placeholder:"Enter Name"})]}),(0,r.jsx)("hr",{className:"mt-4"}),(0,r.jsxs)("div",{className:"form-control flex flex-col",children:[(0,r.jsx)("span",{className:"font-bold text-lg",children:"Prompt"}),(0,r.jsx)("label",{className:"label font-medium",children:"System"}),(0,r.jsx)("textarea",{value:i.prompt.system,onChange:e=>K("prompt.system",e.target.value),className:"border border-gray-300 p-2 rounded w-full h-64",placeholder:"Enter system message"})]}),(0,r.jsxs)("div",{className:"form-control flex flex-col",children:[(0,r.jsx)("label",{className:"label font-medium",children:"Trigger Message (Voice Calls)"}),(0,r.jsx)("input",{type:"text",value:i.prompt.trigger,onChange:e=>K("prompt.trigger",e.target.value),className:"border border-gray-300 p-2 rounded max-w-[24rem]",placeholder:"Enter first message"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:"manual"===i.prompt_mode,onChange:()=>{i.prompt_mode="auto"===i.prompt_mode?"manual":"auto",L(e=>e+1)}}),(0,r.jsx)("span",{className:"text-lg",children:"Use this prompt instead of business category"})]}),(0,r.jsx)("hr",{className:"mt-4"}),(0,r.jsxs)("div",{className:"form-control flex flex-col",children:[(0,r.jsx)("label",{className:"label font-medium",children:"Model"}),(0,r.jsx)("select",{value:i.llm.model,onChange:e=>K("llm.model",e.target.value),className:"border p-2 border-gray-300 rounded max-w-[24rem]",children:k.map(e=>(0,r.jsx)("option",{value:e.value,children:e.name},e.value))})]}),(0,r.jsx)("hr",{className:"mt-4"}),(0,r.jsxs)("div",{className:"form-control flex flex-col",children:[(0,r.jsx)("span",{className:"font-bold text-lg mt-4",children:"Speech To Text"}),(0,r.jsx)("label",{className:"label font-medium",children:"Provider"}),(0,r.jsx)("select",{value:i.voice.asr.provider,onChange:e=>K("voice.asr.provider",e.target.value),className:"border p-2 border-gray-300 rounded max-w-[24rem]",children:T.map(e=>(0,r.jsx)("option",{value:e.value,children:e.name},e.value))})]}),(0,r.jsxs)("div",{className:"form-control flex flex-col",children:[(0,r.jsx)("label",{className:"label font-medium",children:"Language"}),(0,r.jsx)("select",{value:i.voice.asr.language,onChange:e=>K("voice.asr.language",e.target.value),className:"border p-2 border-gray-300 rounded max-w-[24rem]",children:S.map(e=>(0,r.jsx)("option",{value:e.value,children:e.name},e.value))})]}),(0,r.jsx)("hr",{className:"mt-4"}),(0,r.jsxs)("div",{className:"form-control flex flex-col",children:[(0,r.jsx)("span",{className:"font-bold text-lg mt-4",children:"Text To Speech"}),(0,r.jsx)("label",{className:"label font-medium",children:"Provider"}),(0,r.jsx)("select",{value:i.voice.tts.provider,onChange:e=>K("voice.tts.provider",e.target.value),className:"border p-2 border-gray-300 rounded max-w-[24rem]",children:D.map(e=>(0,r.jsx)("option",{value:e.value,children:e.name},e.value))})]}),(0,r.jsxs)("div",{className:"form-control flex flex-col",children:[(0,r.jsx)("label",{className:"label font-medium",children:"Speech"}),(0,r.jsx)("select",{value:i.voice.tts.speech,onChange:e=>K("voice.tts.speech",e.target.value),className:"border p-2 border-gray-300 rounded max-w-[24rem]",children:N.map(e=>(0,r.jsx)("option",{value:e.value,children:e.name},e.value))})]}),(0,r.jsx)("hr",{className:"mt-4"}),(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("label",{className:"label font-bold text-lg mt-4 mb-2",children:"Settings"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:!!(null==i?void 0:null===(a=i.text)||void 0===a?void 0:null===(t=a.whatsapp)||void 0===t?void 0:t.extract_images),onChange:()=>{i.text.whatsapp.extract_images=!i.text.whatsapp.extract_images,L(e=>e+1)}}),(0,r.jsx)("span",{className:"text-lg",children:"Extract Image URLs From Response"})]})]})]}),_&&(0,r.jsx)("div",{className:"mt-4 flex justify-start",children:(0,r.jsx)("button",{onClick:H,className:"p-2 bgMediumBlue hover:bgHardBlue text-white rounded mt-4 cursor-pointer",children:"Update Advance Setting"})}),b&&(0,r.jsx)("span",{className:"text-red-500",children:b}),O&&(0,r.jsx)(R,{agentId:c,onClose:()=>U(!1)})]})})},O=e=>{let{goal:t,checked:a,onChange:n}=e;return(0,r.jsxs)("div",{className:"m-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"mr-3",id:t,name:t,checked:a,onChange:n}),(0,r.jsx)("label",{className:"text-neutral-500 font-medium text-lg",htmlFor:t,children:t})]},t)};var U=a(46104);let I=e=>{let{onClick:t,className:a="",color:n="#93A2B7"}=e;return(0,r.jsx)(U.A,{className:"w-6 h-6 cursor-pointer ".concat(a),color:n,onClick:t})},L=e=>{let{isOpen:t,setIsOpen:a,setBusinessInfo:s}=e,i=(0,n.useRef)(null),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),m=async e=>{e.preventDefault();try{c(!0);let t=new FormData(e.currentTarget);t.set("action","build_info");let r=await l.A.doFetch({path:"/agents/utils",data:t});if(r.error){u(r.error.message),c(!1);return}c(!1),s(r.data.text),a(!1)}catch(e){console.log(e),c(!1),u("Something went wrong")}};return(0,n.useEffect)(()=>{var e,a;t?null===(e=i.current)||void 0===e||e.showModal():null===(a=i.current)||void 0===a||a.close()},[t]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("dialog",{ref:i,className:"bg-white p-6 rounded-lg shadow-lg text-gray-700 fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",onClick:e=>{e.target===i.current&&a(!1)},children:[(0,r.jsx)("div",{className:"flex justify-end items-end w-full",children:(0,r.jsx)(I,{onClick:()=>a(!1)})}),(0,r.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:m,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"File"}),(0,r.jsx)("input",{type:"file",name:"content",className:"w-full border border-gray-400 p-2 rounded-lg mt-2 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"Text"}),(0,r.jsx)("textarea",{className:"w-full border border-gray-400 p-2 rounded-lg mt-2 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition",placeholder:"[Optional] Please write here if you want to add anything extra to complement your document.",name:"text",id:"text",cols:30,rows:5})]}),d&&(0,r.jsx)("div",{className:"text-red-500 text-sm",children:d}),(0,r.jsx)(w.$,{type:"submit",variant:"primary",className:"mt-3 w-full",disabled:o,loading:o,children:"Generate"})]})]})})},_=e=>{let{children:t,label:a}=e,[s,i]=(0,n.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{className:"flex items-center justify-between w-full rounded-lg border border-neutral-300 p-3 text-left font-semibold text-indigo-800",onClick:()=>i(!s),children:[(0,r.jsx)("span",{className:"text-medium",children:a}),(0,r.jsx)("span",{className:"flex items-center gap-2",children:s?(0,r.jsx)(c.m9_,{}):(0,r.jsx)(c.eaw,{})})]}),s&&(0,r.jsx)("div",{className:"border-[0.4px] bg-white rounded p-4 w-full border-gray-300 text-gray-500 rounded p-4",children:t})]})},F=e=>{let{label:t,options:a,selected:n,value:s,setValue:i}=e;return(0,r.jsxs)("div",{className:"mt-4 flex flex-col ",children:[(0,r.jsx)("label",{className:"text-neutral-500 font-medium text-base",children:t}),(0,r.jsx)("select",{className:"border border-neutral-300 text-neutral-400 font-medium bg-primary max-w-3xl rounded-lg p-3 mt-3 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition",name:t,id:t,value:(null==s?void 0:s.toLowerCase())||n.toLowerCase(),onChange:e=>i(e.target.value),children:a.map(e=>"object"==typeof e?(0,r.jsx)("option",{value:e.key.toLowerCase(),children:e.value},e.key):"string"==typeof e?(0,r.jsx)("option",{value:e.toLowerCase(),children:e},e):void 0)})]})};var z=a(61302);let G=["Facebook","Twitter","Instagram","LinkedIn"],K=function(e){let{value:t,setValue:a}=e,[s,i]=(0,n.useState)(""),[l,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(t||[]),u=()=>{s&&l&&(d([...c,{name:s,url:l}]),i(""),o(""),a([...c,{name:s,url:l}]))},m=e=>{d(c.filter((t,a)=>a!==e)),a(c.filter((t,a)=>a!==e))};return(0,r.jsxs)("div",{className:"mt-4 flex flex-col",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add Social Media Handles"}),(0,r.jsx)("div",{children:c.map((e,t)=>(0,r.jsxs)("div",{className:"border border-neutral-300 text-neutral-400 font-medium bg-primary max-w-3xl rounded-lg p-3 mt-3 mb-2 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"font-medium",children:e.name}),(0,r.jsx)("a",{href:e.url,target:"_blank",className:"text-blue-500 underline",children:e.url})]}),(0,r.jsx)("div",{children:(0,r.jsx)(z.A,{onClick:()=>m(t)})})]},t))}),(0,r.jsx)("div",{className:"border border-neutral-300 text-neutral-400 font-medium bg-primary max-w-3xl rounded-lg p-3 mt-3",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"border rounded-lg flex gap-2",children:[(0,r.jsxs)("select",{value:s,onChange:e=>i(e.target.value),className:"p-2 outline-none",children:[(0,r.jsx)("option",{value:"",children:"Select Platform"}),G.filter(e=>!c.some(t=>t.name.toLowerCase()===e.toLowerCase())).map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsx)("input",{type:"url",placeholder:"Enter URL",value:l,onChange:e=>o(e.target.value),className:" w-full p-2 flex-1 outline-none"})]}),(0,r.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,r.jsx)(w.$,{variant:"primary",onClick:()=>u(),children:"Add"}),(0,r.jsx)(w.$,{variant:"default",onClick:()=>{i(""),o("")},children:"Cancel"})]})]})})]})},H=e=>{let{label:t,placeholder:a,value:n,setValue:s,className:i="",height:l=0,width:o=0}=e;return(0,r.jsxs)("div",{className:"flex flex-col ".concat(i),children:[t&&(0,r.jsx)("label",{className:"text-neutral-500 font-medium text-base",htmlFor:t,children:t}),(0,r.jsx)("input",{type:"text",id:t,name:t,placeholder:a,value:n,onChange:e=>s(e.target.value),className:"border border-neutral-300 text-neutral-400 font-medium bg-primary max-w-3xl rounded-lg p-3 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition ".concat(t?"mt-1":""),style:{..."number"==typeof l?l>0&&{height:"".concat(l,"px")}:{height:l},..."number"==typeof o?o>0&&{width:"".concat(o,"px")}:{width:o}}})]})},V=e=>{var t,a,s,o,c,d,u,m,g,h,p,b;let{setSettingTab:f}=e,[y,v]=(0,n.useState)(null),[j,N]=(0,n.useState)(null),[S,P]=(0,n.useState)(null),[E,B]=(0,n.useState)(!1),[T,D]=(0,n.useState)(!1),[R,U]=(0,n.useState)(!1),I=(0,k.useRouter)(),z=Object.keys((0,x.QG)()),G=Object.values((0,x.oj)()).map(e=>{let{id:t,name:a}=e;return{key:t,value:a}}),V=async e=>{e.preventDefault();try{D(!0),(await l.A.doPost({path:"/agents/".concat(null==y?void 0:y.id),data:y})).error||(D(!1),U(!1))}catch(e){console.log(e),D(!1)}};(0,n.useEffect)(()=>{if(i.A.getOrgSetupRedirectPath()){I.replace({pathname:I.pathname,query:{tab:"business-setting",from:"bot-management"}}),f("business-setting");return}W(),J()},[I,f]),(0,n.useEffect)(()=>{JSON.stringify(S)!==JSON.stringify(y)?U(!0):U(!1)},[y,S]);let Z=(0,n.useCallback)(e=>{""!==e.trim()&&y&&v({...y,data:{...y.data,info:{...y.data.info,text:e}}})},[y]),J=async()=>{let e=await l.A.doGet({path:"/ptemplates?category=business"});if(e.error){console.log(e.error);return}e.data&&N(e.data.ptemplates)},W=async()=>{let e=await l.A.doGet({path:"/orgs/".concat(C.A.currentId(),"/agents?limit=1&sort_by=created_at&sort_order=asc")});if(!e.error){if(e.data&&e.data.agents&&e.data.agents.length>0){let t=e.data.agents[0];t.data&&"string"==typeof t.data&&(t.data=JSON.parse(t.data)),v(t),P(t)}else{let e=await l.A.doPost({path:"/orgs/".concat(C.A.currentId(),"/agents/setup"),data:{}});if(e.error||(e=await l.A.doGet({path:"/orgs/".concat(C.A.currentId(),"/agents?limit=1&sort_by=created_at&sort_order=asc")})).error)return;e.data&&e.data.agents&&e.data.agents.length>0&&(e.data.agents[0].data&&"string"==typeof e.data.agents[0].data&&(e.data.agents[0].data=JSON.parse(e.data.agents[0].data)),v(e.data.agents[0]),P(e.data.agents[0]))}}};return y?(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"font-bold text-2xl text-black",children:"Bot Settings"}),(0,r.jsx)("button",{type:"submit",className:"bgMediumBlue text-white px-4 py-2 rounded-lg w-24 cursor-pointer hover:bgHardBlue transition disabled:bg-gray-400 disabled:cursor-not-allowed ".concat(R?"visible":"invisible"),disabled:T,onClick:V,children:T?"Saving...":"Save"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col space-y-4",children:[(0,r.jsx)(_,{label:"Basic information",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H,{label:"Business name",placeholder:"Enter your Business name",value:y.data.config.business_name||"",setValue:e=>{v({...y,data:{...y.data,config:{...y.data.config,business_name:e}}})}}),(0,r.jsx)(F,{label:"Business Category",options:j&&(null==j?void 0:j.length)>0&&(null==j?void 0:j.map(e=>e.name))||["N/A"],selected:(null==j?void 0:null===(t=j.find(e=>e.id===y.data.config.agent_template))||void 0===t?void 0:t.name)||"N/A",value:(null==j?void 0:null===(a=j.find(e=>e.id===y.data.config.agent_template))||void 0===a?void 0:a.name)||"",setValue:e=>{var t;v({...y,data:{...y.data,config:{...y.data.config,agent_template:(null==j?void 0:null===(t=j.find(t=>t.name.toLowerCase()===e.toLowerCase()))||void 0===t?void 0:t.id)||""}}})}}),(0,r.jsx)(H,{label:"Agent Name",placeholder:"Enter your Agent Name",value:null===(o=y.data)||void 0===o?void 0:null===(s=o.config)||void 0===s?void 0:s.agent_name,setValue:e=>{v({...y,data:{...y.data,config:{...y.data.config,agent_name:e}}})}}),(0,r.jsx)(F,{label:"Language",options:["English","Hindi","Hinglish"],selected:"English",value:y.data.config.language,setValue:e=>{v({...y,data:{...y.data,config:{...y.data.config,language:e}}})}}),(0,r.jsx)(F,{label:"Timezone",options:z,selected:"Asia/Kolkata",value:y.data.config.timezone,setValue:e=>{v({...y,data:{...y.data,config:{...y.data.config,timezone:e}}})}}),(0,r.jsx)(F,{label:"Country",options:G,selected:"India",value:y.data.config.country,setValue:e=>{v({...y,data:{...y.data,config:{...y.data.config,country:e}}})}}),(0,r.jsx)(F,{label:"Currency",options:Array.from(new Set(A.p.map(e=>{let{code:t,currency:a}=e;return{key:t,value:a}}))),selected:"Indian Rupee",value:y.data.config.currency,setValue:e=>{v({...y,data:{...y.data,config:{...y.data.config,currency:e}}})}}),(0,r.jsx)(F,{label:"Date Format",options:["dd/mm/yyyy","mm/dd/yyyy","yyyy/mm/dd","dd/mm/yy","mm/dd/yy","yy/mm/dd"],selected:"dd/mm/yyyy",value:y.data.config.date_format,setValue:e=>{v({...y,data:{...y.data,config:{...y.data.config,date_format:e}}})}})]})}),(0,r.jsxs)(_,{label:"Contact information",children:[(0,r.jsx)(H,{label:"Phone",placeholder:"Enter your phone",value:y.data.contact.phone,setValue:e=>{v({...y,data:{...y.data,contact:{...y.data.contact,phone:e}}})}}),(0,r.jsx)(H,{label:"Email",placeholder:"Enter your email",value:y.data.contact.email,setValue:e=>{v({...y,data:{...y.data,contact:{...y.data.contact,email:e}}})}}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col",children:[(0,r.jsx)("span",{className:"text-neutral-500 font-medium text-base",children:"Address"}),(0,r.jsx)("textarea",{name:"Address",id:"address",value:y.data.contact.address,onChange:e=>v({...y,data:{...y.data,contact:{...y.data.contact,address:e.target.value}}}),cols:30,rows:5,placeholder:"Enter your address details",className:"border border-neutral-300 resize text-neutral-400 font-medium bg-primary rounded-lg p-3 mt-3 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition"})]}),(0,r.jsx)(H,{label:"Website",placeholder:"Enter your website",value:y.data.contact.website,setValue:e=>{v({...y,data:{...y.data,contact:{...y.data.contact,website:e}}})}}),(0,r.jsx)(K,{value:y.data.contact.social,setValue:e=>v({...y,data:{...y.data,contact:{...y.data.contact,social:e}}})})]}),(0,r.jsxs)(_,{label:"Business information",children:[(0,r.jsxs)("div",{className:"mt-4 flex flex-col space-y-4",children:[(0,r.jsx)("span",{className:"text-neutral-500 font-medium text-base",children:"Business Info"}),(0,r.jsx)("textarea",{name:"business_info",id:"business_info",value:(null===(d=y.data)||void 0===d?void 0:null===(c=d.info)||void 0===c?void 0:c.text)||"",onChange:e=>{v({...y,data:{...y.data,info:{...y.data.info,text:e.target.value}}})},cols:30,rows:10,placeholder:"Enter your Business description",className:"border border-neutral-300 resize text-neutral-400 font-medium bg-primary rounded-lg p-3 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition"}),(0,r.jsx)(L,{isOpen:E,setIsOpen:B,setBusinessInfo:Z}),(0,r.jsx)(w.$,{type:"button",variant:"primary",className:"max-w-fit",onClick:()=>B(!0),children:"Generate info from documents"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col",children:[(0,r.jsx)("div",{className:"text-neutral-500 font-medium text-xl",children:"Agent Goal"}),(0,r.jsxs)("div",{className:"border border-neutral-300 text-neutral-400 font-medium bg-primary max-w-3xl rounded-lg p-3 mt-3",children:[(0,r.jsx)(O,{goal:"Take orders",checked:null===(m=y.data.info)||void 0===m?void 0:null===(u=m.goals)||void 0===u?void 0:u.sell_products,onChange:e=>{v({...y,data:{...y.data,info:{...y.data.info,goals:{...y.data.info.goals,sell_products:e.target.checked}}}})}}),(0,r.jsx)(O,{goal:"Bookings",checked:null===(h=y.data.info)||void 0===h?void 0:null===(g=h.goals)||void 0===g?void 0:g.provide_services,onChange:e=>{v({...y,data:{...y.data,info:{...y.data.info,goals:{...y.data.info.goals,provide_services:e.target.checked}}}})}}),(0,r.jsx)("textarea",{name:"business_desc",id:"business_desc",value:(null===(b=y.data)||void 0===b?void 0:null===(p=b.info)||void 0===p?void 0:p.goal_text)||"",onChange:e=>{v({...y,data:{...y.data,info:{...y.data.info,goal_text:e.target.value}}})},rows:4,placeholder:"Enter your Business description",className:"border border-neutral-300 resize w-full text-neutral-400 font-medium bg-primary rounded-lg p-3 mt-3 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition"})]})]})]}),y&&i.A.isSuperAdmin()&&(0,r.jsxs)(_,{label:"Advanced Settings",children:[(0,r.jsx)("div",{className:"text-neutral-500 font-medium text-xl mt-4",children:"Advance Bot Setting"}),(0,r.jsx)("hr",{}),(0,r.jsx)(M,{agentId:y.id})]})]})]}):(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h1",{className:"font-bold text-xl text-black",children:"Bot Settings"}),(0,r.jsx)("span",{children:"Loading.."})]})};var Z=a(96154),J=a(54587),W=a.n(J);let Y=(0,d.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function X(e){let{notification:t,setNotification:a}=e,[s]=(0,n.useState)(()=>{try{let e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=(0,x.zt)(e);return(null==t?void 0:t.id)||"IN"}catch(e){return"IN"}}),i=(e,t)=>{a(a=>({...a,[e]:{...a[e],events:{...a[e].events,[t]:!a[e].events[t]}}}))},l=(e,r,n)=>{let s=[...t[e].recipients];s[r]=n||"",a(t=>({...t,[e]:{...t[e],recipients:s}}))},o=e=>{a(t=>({...t,[e]:{...t[e],recipients:[...t[e].recipients,""]}}))},c=(e,r)=>{let n=t[e].recipients.filter((e,t)=>t!==r);a(t=>({...t,[e]:{...t[e],recipients:n}}))};return(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,r.jsx)("div",{className:"grid gap-6",children:Object.entries(t).filter(e=>{let[t]=e;return"whatsapp"===t}).map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{className:"border border-gray-300 text-gray-500 rounded p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold capitalize mb-4 border-b border-neutral-300 pb-1 text-[#4E4E4E]",children:t}),(0,r.jsxs)("div",{className:"mb-6 text-base",children:[(0,r.jsx)("h4",{className:"font-medium",children:"Recipients"}),a.recipients.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 my-1",children:["email"===t?(0,r.jsx)("input",{type:"email",value:e,onChange:e=>l(t,a,e.target.value),className:"border rounded px-2 py-1 w-full"}):(0,r.jsx)(g.Ay,{international:!0,defaultCountry:s,value:e,onChange:e=>l(t,a,e),inputComponent:q,className:"w-full"}),(0,r.jsx)("button",{onClick:()=>c(t,a),className:"inline-flex items-center justify-center p-3 rounded-md bg-red-100 text-red-600 hover:bg-red-200 transition",title:"Remove recipient",children:(0,r.jsx)(Y,{size:16,strokeWidth:2.5})})]},a)),(0,r.jsx)("button",{onClick:()=>o(t),className:"mt-2 textPrimary hover:underline",children:"+ Add recipient"})]}),(0,r.jsxs)("div",{className:"text-base",children:[(0,r.jsx)("h4",{className:"font-medium mb-1",children:"Events"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(a.events).map(e=>{let[a,n]=e;return(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm lg:text-base",children:[(0,r.jsx)("input",{type:"checkbox",checked:n,onChange:()=>i(t,a)}),(0,r.jsx)("span",{className:"capitalize",children:a.replace(/_/g," ").replace("bookings","Bookings").replace("orders","Orders")})]},a)})})]})]},t)})})})}let q=(0,n.forwardRef)((e,t)=>{let{value:a,onChange:n,...s}=e;return(0,r.jsx)("input",{ref:t,type:"tel",value:a,onChange:n,...s,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})});q.displayName="CustomInput";let $={whatsapp:{recipients:[],events:{new_lead:!0,new_conversation:!1,bookings:!0,orders:!1}},email:{recipients:[],events:{new_lead:!0,new_conversation:!0,bookings:!1,orders:!0}},sms:{recipients:[],events:{new_lead:!1,new_conversation:!1,bookings:!1,orders:!1}}},Q=()=>{var e,t,a,o,c,d;let[u,m]=(0,n.useState)(""),[g,x]=(0,n.useState)($),[h,p]=(0,n.useState)(null),[b,f]=(0,n.useState)(null),[y,v]=(0,n.useState)(""),[j,N]=(0,n.useState)(null),[S,A]=(0,n.useState)(!1),[k,P]=(0,n.useState)(!1),[E,B]=(0,n.useState)(""),T=(0,n.useRef)(null),D=(0,s.useSearchParams)().get("from")||"",R="";switch(D&&(R="Please create your organization to get started"),D){case"bot-management":R="Before configuring the bot, you must create your organization";break;case"channels-management":R="Before adding a channel, you need to create your own organization";break;case"user-management":R="Before inviting users, you must first create your own organization";break;case"tasks":R="Before managing tasks, you need to create your own organization";case"queries":R="Before you do AEO analysys, you need to setup your organization"}let M=async e=>{var t;if(e.preventDefault(),!(null==u?void 0:u.trim())){B("Please enter a valid organization name"),m("");return}P(!0);let a=C.A.current()?"/orgs/".concat(null===(t=C.A.current())||void 0===t?void 0:t.id):"/orgs/setup";try{let e=await l.A.doPost({path:a,data:{name:u,data:{notification:g,logo:j}}});if(e.error){B(e.error.message);return}await i.A.fetchCurrentUser();let t=C.A.current();t.name=u,C.A.setCurrent(t)}catch(e){console.error("Error creating organization:",e),B("Unable to create organization")}finally{P(!1)}};return((0,n.useEffect)(()=>{E&&setTimeout(()=>{B("")},3e3)},[E]),(0,n.useEffect)(()=>{var e,t;if(!(null===(e=C.A.current())||void 0===e?void 0:e.id)){m(""),x($);return}A(!0),l.A.doGet({path:"/orgs/".concat(null===(t=C.A.current())||void 0===t?void 0:t.id)}).then(e=>{var t;if(e.error){B(e.error.message);return}let a=e.data.org;m(a.name),x((null===(t=a.data)||void 0===t?void 0:t.notification)||$),A(!1)})},[]),S)?(0,r.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-15rem)]",children:(0,r.jsx)(Z.A,{className:"animate-spin text-gray-500",size:30})}):(0,r.jsxs)("div",{className:"text-black flex flex-col justify-center items-center",children:[!(null===(e=C.A.current())||void 0===e?void 0:e.id)&&(0,r.jsx)("div",{className:"text-2xl",children:"Please create a organization to get started"}),(null===(t=C.A.current())||void 0===t?void 0:t.id)&&(0,r.jsx)("div",{className:"flex justify-center w-full items-center border-b pb-4 border-slate-200",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 lg:text-2xl",children:"Update your organisation details"})}),(0,r.jsx)("div",{className:"text-sm mt-2",children:R}),(0,r.jsxs)("form",{className:"w-full max-w-2xl flex flex-col gap-4 mt-6",onSubmit:M,children:[(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-2.5 text-gray-500",children:[(0,r.jsx)("label",{className:"text-sm font-semibold",children:"Organization Name"}),(0,r.jsx)("input",{type:"text",placeholder:"Enter Organization Name",className:"w-full text-lg p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:u,onChange:e=>m(e.target.value)})]}),(null===(a=C.A.current())||void 0===a?void 0:a.id)&&(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-2.5 text-gray-500",children:[(0,r.jsx)("label",{htmlFor:"org-logo",className:"text-sm font-semibold",children:"Organization Logo"}),(0,r.jsx)("input",{id:"org-logo",type:"file",accept:"image/*",className:"w-full text-lg p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){if(!a.type.startsWith("image/")){v("Please select a valid image file."),p(null),f(null),N(null);return}if(a.size>1048576){v("Image size should be less than 1MB."),p(null),f(null),N(null);return}p(a),f(URL.createObjectURL(a)),v("");let e=new FileReader;e.onloadend=()=>{N(e.result)},e.readAsDataURL(a)}},ref:T}),b&&(0,r.jsx)(W(),{src:b,alt:"Logo Preview",className:"mt-2 h-20 rounded",width:80,height:80,style:{objectFit:"contain"}}),y&&(0,r.jsx)("div",{className:"text-red-500 text-xs",children:y}),h&&(0,r.jsx)("button",{type:"button",className:"mt-1 text-xs text-blue-600 underline",onClick:()=>{p(null),f(null),N(null),T.current&&(T.current.value="")},children:"Remove Image"})]}),(null===(o=C.A.current())||void 0===o?void 0:o.id)&&(0,r.jsx)(_,{label:"Notifications",children:(0,r.jsx)(X,{notification:g,setNotification:x})}),E&&(0,r.jsx)("div",{className:"text-red-500 text-sm text-right",children:E}),(null===(c=C.A.current())||void 0===c?void 0:c.id)&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(w.$,{type:"submit",variant:"primary",disabled:k,loading:k,children:"Update Organization"})}),!(null===(d=C.A.current())||void 0===d?void 0:d.id)&&(0,r.jsx)("button",{type:"submit",className:"p-2 border border-gray-300 rounded-md bgMediumBlue hover:bgHardBlue text-white cursor-pointer disabled:bg-gray-300 disabled:cursor-not-allowed",disabled:k,children:k?"Please wait...":"Create Organization"})]})]})};(0,n.forwardRef)((e,t)=>{let{value:a,onChange:n}=e;return(0,r.jsx)("input",{ref:t,type:"tel",value:a,onChange:n,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}).displayName="CustomInput";var ee=a(59081);let et=()=>{var e;let[t,a]=(0,n.useState)([]),[s,o]=(0,n.useState)((null===(e=C.A.current())||void 0===e?void 0:e.name)||"Business not selected"),c=i.A.current(),d=async()=>{let e=await l.A.doGet({path:"/orgs"});!e.error&&a(e.data.orgs)};return(0,n.useEffect)(()=>{(null==c?void 0:c.role)==="admin"?d():a((null==c?void 0:c.orgs)||[])},[c]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h2",{className:"text-sm text-gray-500",children:"Current Business"}),(0,r.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:s})]}),(0,r.jsx)("button",{className:"bg-indigo-500 text-white px-4 py-2 rounded-md cursor-pointer text-sm",onClick:()=>h.A.show("Create New Business",(0,r.jsx)(ea,{})),children:"Create New Business"})]}),(0,r.jsxs)("div",{className:"w-fit",children:[(0,r.jsx)("label",{htmlFor:"businesses",className:"block text-sm font-medium text-gray-700 mb-1",children:"Switch Business"}),(0,r.jsxs)("select",{id:"businesses",onChange:e=>{let a=e.target.value,r=t.find(e=>{let{id:t}=e;return t===a});r&&(C.A.setCurrent(r),o(r.name),setTimeout(()=>{window.location.reload()},500))},className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-white text-sm text-gray-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Select Your Business"}),t.map(e=>{let{id:t,name:a}=e;return(0,r.jsx)("option",{value:t,children:a.length>30?"".concat(a.substring(0,30),"..."):a},t)})]})]})]})})},ea=()=>{let[e,t]=(0,n.useState)(""),[a,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),c=async a=>{if(a.preventDefault(),!(null==e?void 0:e.trim())){o("Please enter a valid organization name"),t("");return}s(!0);try{let t=await l.A.doPost({path:"/orgs",data:{name:e}});if(t.error){o(t.error.message);return}h.A.hide(),window.location.reload()}catch(e){console.error("Error creating organization:",e),o("Unable to create organization")}finally{s(!1)}};return(0,r.jsxs)("form",{onSubmit:c,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"flex items-center justify-start",htmlFor:"orgName",children:(0,r.jsx)("span",{children:"Enter orgnaization name"})}),(0,r.jsx)("input",{type:"text",id:"orgName",className:"w-full border border-gray-300 rounded px-2 py-1",value:e,onChange:e=>t(e.target.value)})]}),i&&(0,r.jsx)("div",{className:"flex items-center justify-end",children:(0,r.jsx)("span",{className:"text-red-500",children:i})}),(0,r.jsx)("div",{className:"flex justify-end gap-2 mt-4",children:(0,r.jsx)("button",{type:"submit",className:"lg:px-4 lg:py-2 text-sm px-2 py-1 bgMediumBlue text-white rounded cursor-pointer disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:a,children:"Create"})})]})};var er=a(83285);let en=(0,d.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var es=a(45982),ei=a(39149),el=a.n(ei),eo=a(17082);let ec=e=>{let{isOpen:t,title:a,message:n,confirmText:s="Confirm",cancelText:i="Cancel",onConfirm:l,onCancel:o,isLoading:c=!1}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 h-screen flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,r.jsx)("h3",{className:"text-lg font-bold",children:a}),(0,r.jsx)("p",{className:"py-4",children:n}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 mt-4",children:[(0,r.jsx)(w.$,{type:"button",variant:"default",onClick:o,children:i}),(0,r.jsx)(w.$,{type:"button",variant:"danger",onClick:l,loading:c,disabled:c,children:s})]})]})}):null},ed=e=>{let{setSettingTab:t}=e,[a,s]=(0,n.useState)([]),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,g]=(0,n.useState)([]),[x,h]=(0,n.useState)(""),[p,b]=(0,n.useState)(!1),[f,y]=(0,n.useState)(""),[v,j]=(0,n.useState)(""),N=(0,n.useRef)(null),[S,A]=(0,n.useState)(null),[P,E]=(0,n.useState)(null),[B,T]=(0,n.useState)(null),[D,R]=(0,n.useState)(!0),[M,O]=(0,n.useState)(!0),U=(0,k.useRouter)(),I=C.A.currentId();(0,n.useEffect)(()=>{let e=e=>{N.current&&!N.current.contains(e.target)&&b(!1)};return p&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[p]);let L=(0,n.useCallback)(async()=>{R(!0);try{let{data:e,error:t}=await l.A.doGet({path:"/orgs/".concat(I,"/users")});if(t){console.error("Error fetching existing users:",t);return}s((null==e?void 0:e.users)||[]),c((null==e?void 0:e.users)||[])}catch(e){console.error("Error fetching users:",e)}finally{R(!1)}},[I]),_=(0,n.useCallback)(async()=>{O(!0);try{let{data:e,error:t}=await l.A.doGet({path:"/orgs/".concat(I,"/invites")});if(t){console.error("Error fetching invited users:",t);return}u((null==e?void 0:e.invites)||[]),g((null==e?void 0:e.invites)||[]),console.log("Invited user fetched successfully:",e)}catch(e){console.error("Error fetching invited users:",e)}finally{O(!1)}},[I]);(0,n.useEffect)(()=>{L(),_()},[L,_]);let F=async()=>{if(i.A.getOrgSetupRedirectPath()){U.replace({pathname:U.pathname,query:{tab:"business-setting",from:"user-management"}}),t("business-setting");return}if(!(null==f?void 0:f.trim())){T("Please enter a valid email and select a role.");return}A("inviteuser"),T(null);try{let{data:e,error:t}=await l.A.doPost({path:"/orgs/".concat(I,"/users"),data:{email:f,role:"admin"}});if(t){T("Error inviting user. Please try again.");return}L(),_(),y(""),j("")}catch(e){T("An unexpected error occurred.")}finally{A(null)}},G=async()=>{if(P){A("delete");try{let e=P.id?"/orgs/".concat(I,"/users/").concat(P.id):"/orgs/".concat(I,"/invites/").concat(P.email),{error:t}=await l.A.doDelete({path:e});t||(P.id?(s(e=>e.filter(e=>e.id!==P.id)),c(e=>e.filter(e=>e.id!==P.id))):(u(e=>e.filter(e=>e.email!==P.email)),g(e=>e.filter(e=>e.email!==P.email))))}catch(e){console.error("Error deleting user:",e)}finally{A(null),E(null)}}},K=(0,n.useCallback)(async e=>{if(e.length<2){c(a),g(d);return}try{let{data:t,error:a}=await l.A.doGet({path:"/orgs/".concat(I,"/users?search=").concat(e)});a||c((null==t?void 0:t.users)||[])}catch(e){console.error("Error searching users:",e)}},[I,a,d]),H=(0,n.useRef)(el()(K,300)).current;return(0,n.useEffect)(()=>{H.cancel()},[H,K]),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(ec,{isOpen:!!P,title:"Confirm Delete",message:"Do you really want to delete ".concat((null==P?void 0:P.name)||"this user","?"),confirmText:"Yes, Delete",cancelText:"Cancel",onConfirm:G,onCancel:()=>E(null),isLoading:"delete"===S,confirmColor:"red"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center bg-primary border border-[#E4E4E4] rounded lg:rounded-full p-3 w-full md:w-96",children:[(0,r.jsx)(er.A,{className:"text-neutral-400",size:20}),(0,r.jsx)("input",{type:"text",placeholder:"Search Users...",value:x,onChange:e=>{let t=e.target.value;if(h(t),0===t.length)c(a),g(d);else{let e=a.filter(e=>{var a,r;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase()))}),r=d.filter(e=>{var a,r;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase()))});c(e),g(r)}},className:"bg-transparent outline-none pl-2 text-gray-600 w-full"})]}),(0,r.jsxs)("div",{className:"relative w-full md:w-auto ",ref:N,children:[(0,r.jsxs)(w.$,{variant:"primary",onClick:()=>b(!p),children:["Invite Users ",(0,r.jsx)(en,{size:20})]}),p&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-full md:w-80 p-4 bg-gray-50 rounded-lg shadow-lg z-10",children:[B&&(0,r.jsx)("div",{className:"bg-red-100 text-red-700 p-2 mb-2 rounded-md text-sm font-medium",children:B}),(0,r.jsx)("input",{type:"email",placeholder:"Enter user email",value:f,onChange:e=>y(e.target.value),className:"w-full border border-neutral-300 text-neutral-400 font-medium bg-primary rounded-lg p-3 mt-3 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition"}),(0,r.jsx)(w.$,{variant:"primary",onClick:F,className:"w-full mt-3",loading:"inviteuser"===S,children:"Send Invite"})]})]})]}),(0,r.jsx)("div",{className:"mt-12",children:D?(0,r.jsx)("div",{className:"flex justify-center items-center h-20",children:(0,r.jsx)(Z.A,{className:"animate-spin text-gray-600",size:32})}):0===o.length&&0===m.length&&x.length>0?(0,r.jsx)("p",{className:"text-gray-500 text-center",children:"No users found."}):o.length>0?(0,r.jsxs)("div",{className:"overflow-y-auto max-h-90 rounded-lg",children:[(0,r.jsxs)("div",{className:"hidden lg:grid grid-cols-4 bg-gray-100 text-gray-700 font-medium py-3 px-5 sticky top-0",children:[(0,r.jsx)("div",{children:"Name"}),(0,r.jsx)("div",{children:"Email"}),(0,r.jsx)("div",{children:"Role"}),(0,r.jsx)("div",{children:"Actions"})]}),o.map(e=>(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 items-center py-3 px-0 lg:py-4 lg:px-5 border-0 lg:border-b lg:border-gray-100 hover:bg-gray-50",children:[(0,r.jsxs)("div",{className:"md:hidden flex flex-col gap-2 relative rounded shadow border border-slate-200 shadow-base bg-white p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(eo.d$e,{className:"w-10 h-10 rounded-full",color:"gray"}),(0,r.jsx)("div",{className:"max-w-[200px] overflow-hidden text-ellipsis whitespace-nowrap textSecondary800",title:null==e?void 0:e.name,children:(0,r.jsx)("span",{className:"inline-block font-semibold text-base",children:e.name||"N/A"})})]}),(0,r.jsx)("div",{className:"max-w-[200px] overflow-hidden text-ellipsis whitespace-nowrap textPrimary500",title:null==e?void 0:e.email,children:(0,r.jsx)("span",{className:"inline-block",children:e.email})}),(0,r.jsx)("div",{className:"textSecondary600 font-semibold",children:e.role}),(0,r.jsx)("div",{className:"flex absolute right-3 top-5 justify-end space-x-3",children:(0,r.jsx)("button",{onClick:()=>E(e),className:"textPrimary500 hover:textSecondary700",children:(0,r.jsx)(es.A,{size:20,className:"cursor-pointer"})})})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,r.jsx)(eo.d$e,{className:"w-10 h-10 rounded-full",color:"gray"}),(0,r.jsx)("div",{className:"max-w-[200px] overflow-hidden text-ellipsis whitespace-nowrap textSecondary800",title:null==e?void 0:e.name,children:(0,r.jsx)("span",{className:"inline-block font-semibold",children:e.name||"N/A"})})]}),(0,r.jsx)("div",{className:"hidden md:block max-w-[200px] overflow-hidden text-ellipsis whitespace-nowrap textPrimary500",title:null==e?void 0:e.email,children:(0,r.jsx)("span",{className:"textPrimary500",children:e.email})}),(0,r.jsx)("div",{className:"hidden md:block textSecondary600 font-semibold",children:e.role}),(0,r.jsx)("div",{className:"hidden md:block ",children:(0,r.jsx)(z.A,{onClick:()=>E(e)})})]},e.id))]}):null}),m.length>0&&(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Invited Users"}),(0,r.jsxs)("div",{className:"overflow-y-auto max-h-90 rounded-lg",children:[(0,r.jsxs)("div",{className:"hidden md:grid grid-cols-4 bg-gray-100 text-gray-700 font-medium py-3 px-5 sticky top-0",children:[(0,r.jsx)("div",{children:"Name"}),(0,r.jsx)("div",{children:"Email"}),(0,r.jsx)("div",{children:"Role"}),(0,r.jsx)("div",{children:"Actions"})]}),m.map(e=>(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 items-center py-3 px-0 lg:py-4 lg:px-5 border-0 lg:border-b lg:border-gray-100 hover:bg-gray-50",children:[(0,r.jsxs)("div",{className:"md:hidden flex flex-col gap-2 relative rounded shadow border border-slate-200 shadow-base bg-white p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(eo.d$e,{className:"w-10 h-10 rounded-full",color:"gray"}),(0,r.jsx)("div",{className:"max-w-[120px] overflow-hidden text-ellipsis whitespace-nowrap ",title:(null==e?void 0:e.name)||"N/A",children:(0,r.jsx)("span",{className:"inline-block font-semibold textSecondary800",children:(null==e?void 0:e.name)||""})})]}),(0,r.jsx)("div",{className:"max-w-[200px] overflow-hidden text-ellipsis whitespace-nowrap textPrimary500",title:null==e?void 0:e.email,children:(0,r.jsx)("span",{className:"inline-block textPrimary500",children:null==e?void 0:e.email})}),(0,r.jsx)("div",{className:"textSecondary600 font-semibold",children:e.role}),(0,r.jsx)("div",{className:"flex justify-end space-x-3 absolute right-3 top-5",children:(0,r.jsx)(z.A,{onClick:()=>E(e)})})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,r.jsx)(eo.d$e,{className:"w-10 h-10 rounded-full",color:"gray"}),(0,r.jsx)("div",{className:"max-w-[120px] overflow-hidden text-ellipsis whitespace-nowrap",title:(null==e?void 0:e.name)||"N/A",children:(0,r.jsx)("span",{className:"inline-block font-semibold textSecondary800",children:(null==e?void 0:e.name)||""})})]}),(0,r.jsx)("div",{className:"hidden md:flex max-w-[200px] overflow-hidden text-ellipsis whitespace-nowrap textPrimary500",title:null==e?void 0:e.email,children:(0,r.jsx)("span",{className:"inline-block textPrimary500",children:null==e?void 0:e.email})}),(0,r.jsx)("div",{className:"hidden md:flex textSecondary600 font-semibold",children:e.role}),(0,r.jsx)("div",{className:"hidden md:block justify-end space-x-3",children:(0,r.jsx)(z.A,{onClick:()=>E(e)})})]},(null==e?void 0:e.id)||(null==e?void 0:e.email)))]})]})]})};var eu=a(94344),em=a(26478);let eg=()=>{let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),c=(0,k.useRouter)(),[d,u]=(0,n.useState)(null);function m(a){t(e.filter(e=>e.id!==a))}let g=async()=>{try{s(!0);let e=await l.A.doGet({path:"/ptemplates"});if(e.error){o(e.error.message),s(!1);return}t(e.data.ptemplates),s(!1)}catch(e){o("Something went wrong"),s(!1)}};return(0,n.useEffect)(()=>{g()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-5",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-[#1E2035] ",children:"Prompts"}),(0,r.jsx)("button",{className:"px-4 py-2 bgMediumBlue text-white rounded cursor-pointer",onClick:()=>c.push({pathname:"/prompts",query:{prompt_id:"_new"}}),children:"Create item"})]}),(0,r.jsxs)("div",{className:"overflow-y-auto min-h-[calc(100vh-20rem)] rounded-lg",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 place-items-center bg-gray-100 text-gray-700 font-medium py-3 px-5 sticky top-0",children:[(0,r.jsx)("div",{children:"Id"}),(0,r.jsx)("div",{children:"Name"}),(0,r.jsx)("div",{children:"Category"}),(0,r.jsx)("div",{children:"Actions"})]}),a&&(0,r.jsx)("div",{className:"flex items-center justify-center py-5 min-h-[calc(100vh-20rem)]",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-gray-900"})}),i&&(0,r.jsx)("div",{className:"flex items-center justify-center py-5 min-h-[calc(100vh-20rem)]",children:(0,r.jsx)("p",{className:"text-red-500",children:i})}),(0,r.jsx)("div",{children:e.map(e=>(0,r.jsx)(ex,{id:e.id,name:e.name,category:e.category,refreshPrompts:m,openOptionsRow:d,setOpenOptionsRow:u},e.id))})]})]})},ex=e=>{let{id:t,name:a,category:s,refreshPrompts:i,openOptionsRow:l,setOpenOptionsRow:o}=e,[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"grid grid-cols-4 place-items-center py-4 px-5 border-b border-gray-100 hover:bg-gray-50",children:[(0,r.jsx)("div",{className:"max-w-[200px] overflow-hidden text-ellipsis whitespace-nowrap text-blue-500",title:t,children:(0,r.jsx)("span",{className:"inline-block text-blue-500",children:t})}),(0,r.jsx)("div",{children:a}),(0,r.jsx)("div",{children:s}),(0,r.jsxs)("div",{className:"relative cursor-pointer",onClick:e=>{o(l===t?null:t);let a=e.currentTarget.getBoundingClientRect(),{innerWidth:r,innerHeight:n}=window,s=a.top+14,i=a.left-140;a.bottom+90>n&&(s=a.top-90),a.left+180>r&&(i=a.right-180),a.right-180<0&&(i=a.right),d({top:s,left:i}),m(!0)},children:[(0,r.jsx)(em.Ym0,{size:20}),l===t&&(0,r.jsx)(eh,{id:t,handleActionState:()=>{o(null),i(t)},buttonPosition:c,isOpen:u,setIsOpen:m})]})]},t)},eh=e=>{let{id:t,handleActionState:a,buttonPosition:s,isOpen:i,setIsOpen:l}=e,o=(0,k.useRouter)(),d=(0,n.useRef)(null);return((0,eu.A)([d],()=>l(!1)),(0,n.useEffect)(()=>{let e=d.current;e&&s&&(e.style.top="".concat(s.top,"px"),e.style.left="".concat(s.left,"px"),e.style.position="fixed")},[s,d]),i)?(0,r.jsx)("div",{ref:d,className:"px-1 py-1 rounded border-none outline-none z-50 shadow-lg",children:(0,r.jsxs)("ul",{className:"bg-white min-w-32 p-2 rounded-lg flex flex-col items-start gap-2 text-lg text-gray-700",children:[(0,r.jsxs)("li",{className:"hover:bg-gray-200 w-full cursor-pointer px-4 rounded text-left flex gap-2 items-center justify-start",onClick:()=>{a(),o.push({pathname:"/prompts",query:{prompt_id:t}})},children:[(0,r.jsx)(c.uO9,{}),(0,r.jsx)("span",{children:"Edit"})]}),(0,r.jsxs)("li",{className:"hover:bg-gray-200 w-full cursor-pointer px-4 rounded text-left flex gap-2 items-center justify-start",onClick:()=>h.A.show("Delete Prompt",(0,r.jsx)(ep,{id:t,handleActionState:a})),children:[(0,r.jsx)(c.qbC,{}),(0,r.jsx)("span",{children:"Delete"})]})]})}):null},ep=e=>{let{id:t,handleActionState:a}=e,[s,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null),d=async()=>{c(null),i(!0);let e=await l.A.doDelete({path:"/ptemplates/".concat(t)});if(e.error){c(e.error.message),i(!1);return}i(!1),h.A.hide(),a()};return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{children:"Are you sure you want to delete this prompt?"}),o&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:o}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 mt-4",children:[(0,r.jsx)("button",{onClick:()=>h.A.hide(),className:"px-4 py-2 text-white rounded-md transition bg-gray-500 cursor-pointer",children:"Cancel"}),(0,r.jsx)("button",{disabled:s,onClick:d,className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 cursor-pointer disabled:bg-gray-400 disabled:cursor-not-allowed transition",children:s?"Deleting...":"Delete"})]})]})};var eb=a(3176),ef=a(91589);let ey=e=>{let{onAdd:t,configList:a,configMetadata:s,updateConfig:i={}}=e,[o,d]=(0,n.useState)([]),[u,m]=(0,n.useState)({}),[g,x]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[b,f]=(0,n.useState)("error"),[y,v]=(0,n.useState)(!1),j=C.A.current().id,N=async(e,a,r)=>{let{data:n,error:s}=await l.A.doPost({path:"orgs/".concat(j,"/config/").concat(r?e:""),data:{id:e,value:a}});if(s){p(s.message),f("error"),v(!0);return}t()};return(0,n.useEffect)(()=>{if(i&&i.name){x(i.value),m(s.find(e=>e.id==i.name));return}if((null==a?void 0:a.length)&&(null==s?void 0:s.length)){let e=a.map(e=>e.name);d(s.filter(t=>!e.includes(t.id)))}else(null==a?void 0:a.length)==0&&(null==s?void 0:s.length)&&d(s)},[a,s,i]),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"m-auto absolute",children:y&&(0,r.jsx)(ef.A,{type:b,message:h,onClose:()=>v(!1),autoCloseDelay:2e3})}),!i||!i.name&&(0,r.jsxs)("div",{className:"flex flex-col justify-between items-start gap-[4px] p-2 relative w-fit",children:[(0,r.jsx)("label",{className:"text-gray-700",children:"Select Config:"}),(0,r.jsxs)("select",{id:"config",className:"appearance-none max-w-xs px-4 py-2 bg-white text-gray-700 rounded-lg border-[0.4px] border-[#CAD4E0] shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 cursor-pointer",onChange:e=>{let t=e.target.value,a=s.find(e=>e.id==t);m(a),x((null==a?void 0:a.default)||"")},children:[!(null==u?void 0:u.id)&&(0,r.jsx)("option",{value:"",children:"Select Config"}),o.map(e=>{let{id:t,name:a}=e;return(0,r.jsx)("option",{value:t,children:a},t)})]}),(0,r.jsx)("div",{className:"pointer-events-none absolute flex items-center bottom-[20px] right-[20px] bg-white",children:(0,r.jsx)(c.BNo,{className:"text-gray-500"})})]}),(0,r.jsx)("div",{children:u.name&&(0,r.jsxs)("div",{className:"p-2 flex flex-col ",children:[(0,r.jsxs)("label",{className:"block font-medium text-gray-700 mb-1",children:[u.name,":"]}),(0,r.jsx)("input",{className:"h-[36px] border border-neutral-300 text-gray-600 font-medium max-w-xs bg-white rounded-lg p-3 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition",type:u.type,placeholder:"Enter ".concat(u.type),value:g,onChange:e=>x(e.target.value)})]})}),(0,r.jsxs)("div",{className:"flex justify-end",children:[!i,(0,r.jsxs)("button",{type:"submit",className:"bg-[#4F46E4] text-white px-4 py-2 rounded-lg  cursor-pointer  transition disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:!u.name||!g,onClick:()=>{N(u.id,g,!!(i&&i.name))},children:[i&&i.name?"Update":"Add"," Config"]})]})]})},ev=()=>{let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[i,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(!0),[g,x]=(0,n.useState)("error"),[p,b]=(0,n.useState)(!1),f=C.A.current().id,y=(0,n.useCallback)(async()=>{let{data:e,error:a}=await l.A.doGet({path:"orgs/".concat(f,"/config-metadata")});if(a){c(a.message),x("error"),b(!0);return}e&&t(e.configs)},[f]),v=(0,n.useCallback)(async()=>{let{data:e,error:t}=await l.A.doGet({path:"orgs/".concat(f,"/config")});if(t){c(t.message),x("error"),b(!0);return}e&&(s(e.configs),u(!1))},[f]),j=async e=>{let{data:t,error:a}=await l.A.doDelete({path:"orgs/".concat(f,"/config/").concat(e)});if(a){c(a.message),x("error"),b(!0);return}w()},N=t=>e.filter(e=>e.id===t)[0].name||t,w=()=>{h.A.hide(),y(),v()};return((0,n.useEffect)(()=>{y(),v()},[v,y]),d)?(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"flex justify-center mt-6 h-[40px]",children:(0,r.jsx)(m.A,{className:"animate-spin"})})}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"m-auto absolute",children:p&&(0,r.jsx)(ef.A,{type:g,message:i,onClose:()=>b(!1),autoCloseDelay:2e3})}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"font-bold text-2xl text-black",children:"Config Settings"}),(0,r.jsx)("button",{type:"submit",className:"bg-[#4F46E4] text-white px-4 py-2 rounded-lg  cursor-pointer hover:bgHardBlue transition disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:(null==e?void 0:e.length)===(null==a?void 0:a.length),onClick:()=>{h.A.show("Add Config",(0,r.jsx)(ey,{onAdd:w,configList:a,configMetadata:e}))},children:"Add Config"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"flex-1 overflow-hidden mt-4",children:(0,r.jsx)("div",{className:"w-full h-full overflow-y-auto",children:(0,r.jsxs)("table",{className:"w-full table-fixed",children:[(0,r.jsx)("thead",{className:"bg-gray-100 text-gray-700 font-medium sticky top-0 z-11",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"w-1/3 text-center py-3 px-2",children:"Name"}),(0,r.jsx)("td",{className:"w-1/3 text-center py-3 px-2",children:"Value"}),(0,r.jsx)("td",{className:"w-1/3 text-center py-3 px-2",children:"Action"})]})}),(0,r.jsxs)("tbody",{className:"bg-white",children:[null==a?void 0:a.map(t=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 border-b border-gray-100",children:[(0,r.jsx)("td",{className:"text-center py-4 px-2",children:(0,r.jsx)("div",{className:"text-center max-w-full",title:N(null==t?void 0:t.name)||"N/A",children:(0,r.jsx)("span",{className:"px-1",children:N(null==t?void 0:t.name)||"N/A"})})}),(0,r.jsx)("td",{className:"text-center py-4 px-2",children:(0,r.jsx)("span",{className:"text-slate-500 capitalize",children:(null==t?void 0:t.value)||"N/A"})}),(0,r.jsx)("td",{className:"text-center py-4 px-2",children:(0,r.jsxs)("div",{className:"flex justify-center gap-8",children:[(0,r.jsx)("div",{title:"Delete",className:"flex justify-center items-center cursor-pointer",onClick:()=>{h.A.show("Delete Config",(0,r.jsx)(ej,{onClose:()=>{h.A.hide()},onConFirm:()=>{j(t.name)}}))},children:(0,r.jsx)(es.A,{size:20,className:"text-red-400"})}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{title:"Update",className:"cursor-pointer",onClick:()=>{h.A.show("Update Config",(0,r.jsx)(ey,{onAdd:w,configList:a,configMetadata:e,updateConfig:t}))},children:(0,r.jsx)(o.EaJ,{className:"text-gray-500",size:20})})})]})})]},null==t?void 0:t.name)),(null==a?void 0:a.length)===0&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:3,className:"text-center py-8",children:(0,r.jsx)("span",{className:"text-gray-500",children:"No Config found"})})})]})]})})})})]})},ej=e=>{let{onClose:t,onConFirm:a}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-[14px]",children:[(0,r.jsx)("div",{className:"flex justify-start",children:"Are you sure you want to delete the Config?"}),(0,r.jsxs)("div",{className:"flex justify-end gap-[10px]",children:[(0,r.jsx)("button",{className:"flex justify-center w-[80px] items-center gap-[8px] border-1 p-[4 px] bg-[#F0F4F8] rounded text-black font-semibold cursor-pointer",onClick:async()=>t(),children:"Cancel"}),(0,r.jsx)("button",{className:"flex justify-center w-[80px] items-center gap-[8px] p-[4px] bg-red-400 rounded text-white font-semibold cursor-pointer",onClick:async()=>a(),children:"Delete"})]})]})},eN=["profile","bot-management","user-management","channels-management","business-setting","select-business","prompts","config"];function ew(e){return eN.includes(e)?e:"profile"}let eS=[{name:"Profile",key:"profile"},{name:"Bot Management",key:"bot-management"},{name:"User Management",key:"user-management"},{name:"Channels Management",key:"channels-management"},{name:"Business Setting",key:"business-setting"}],eC=[{name:"Profile",key:"profile"},{name:"User Management",key:"user-management"}],eA=()=>{let e=(0,s.useSearchParams)(),t=e.get("tab")||"",a=(0,s.useRouter)(),l=(0,s.usePathname)(),[o,c]=(0,n.useState)(eS),[d,u]=(0,n.useState)(!1),[m,g]=(0,n.useState)(ew(t)),[x,h]=(0,n.useState)("business-setting");(0,n.useEffect)(()=>{g(ew(t))},[t]);let p=t=>{let r=new URLSearchParams(e);r.set("tab",t);let n=r.toString();a.push("".concat(l,"?").concat(n))};return(0,n.useEffect)(()=>(("admin"===i.A.current().role||i.A.current().orgs.length>1)&&c(e=>[...e,{name:"Select Business",key:"select-business"}]),"admin"===i.A.current().role&&c(e=>[...e,{name:"Prompts",key:"prompts"},{name:"Config",key:"config"}]),eb.A.aeoOnly&&(c(eC),"admin"===i.A.current().role?c([...eC,{name:"Select Business",key:"select-business"},{name:"Config",key:"config"}]):i.A.current().orgs.length>1&&c([...eC,{name:"Select Business",key:"select-business"}])),()=>{c(eS)}),[]),(0,r.jsx)("div",{className:"w-full mx-auto bg-primary p-4",children:(0,r.jsxs)("div",{className:"w-full mx-auto relative",children:[(0,r.jsx)("div",{className:"w-full overflow-x-auto mb-4",children:(0,r.jsx)("nav",{className:"flex gap-6 min-w-max",children:(0,r.jsx)(ek,{tabs:o,activeTab:m,handleBtnClick:e=>{g(e.key),p(e.key),u(!1)}})})}),(0,r.jsxs)("div",{className:"bg-white border border-slate-200 rounded p-6",children:["profile"===m&&(0,r.jsx)(S,{}),"bot-management"===m&&(0,r.jsx)(V,{setSettingTab:h}),"user-management"===m&&(0,r.jsx)(ed,{setSettingTab:h}),"channels-management"===m&&(0,r.jsx)(ee.A,{setSettingTab:h}),"select-business"===m&&(0,r.jsx)(et,{}),"business-setting"===m&&(0,r.jsx)(Q,{}),"prompts"===m&&(0,r.jsx)(eg,{}),"config"===m&&(0,r.jsx)(ev,{})]})]})})},ek=e=>{let{tabs:t,activeTab:a,handleBtnClick:n}=e;return(0,r.jsx)(r.Fragment,{children:t.map(e=>(0,r.jsx)("button",{onClick:()=>n(e),className:"pb-2 text-base font-bold transition-colors\n           ".concat(a===e.key?"text-[#4F46E4] border-b-4 border-[#4F46E4]":"text-gray-500 border-b-4 border-transparent","\n\n          "),children:e.name},e.key))})}},49049:e=>{function t(e){return e}e.exports=function(e,a,r){for(var a=a||t,r=r||e,n=0,s=e.length;n<s;n+=1)if(a.call(r,e[n],n))return e[n]}},59081:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var r=a(37876),n=a(43666),s=a(65259),i=a(82400),l=a(43598),o=a(54587),c=a.n(o),d=a(89099),u=a(14232);let m=[{name:"WhatsApp",icon:n.b_},{name:"Instagram",icon:n.Rj},{name:"Facebook",icon:n.ee},{name:"Exotel",icon:n.vN},{name:"Google Calendar",icon:n.cz},{name:"Custom Leads",icon:n.Ie},{name:"MCP",icon:n.hd}],g=e=>{let{setSettingTab:t,foryou:a}=e,[n,i]=(0,u.useState)([]),[o,c]=(0,u.useState)(!0),d=e=>{let t=m.find(t=>t.name.toLowerCase()===e.toLocaleLowerCase());return t?t.icon:e},g=e=>e.map(e=>{let{name:t}=e;return t.toLowerCase()}),h=(0,u.useCallback)(async()=>{let e=await s.A.doGet({path:"/orgs/".concat(l.A.currentId(),"/integrations")});e.error||(e.data.integrations.map(e=>("fbpage"===e.name&&(e.name="facebook"),"leads"===e.name&&(e.name="Custom Leads"),"google_calendar"===e.name&&(e.name="Google Calendar"),e)),i(e.data.integrations.filter(e=>{if("Custom Leads"===e.name){let{responses:t}=JSON.parse(e.data);if(0===t.length)return!1}return!0})),c(!1))},[]),p=m.filter(e=>{let{name:t}=e;return!g(n).includes(t.toLowerCase())});return((0,u.useEffect)(()=>{h()},[h]),o)?(0,r.jsx)("div",{children:"Loading..."}):a?0===p.length?(0,r.jsx)("div",{className:"flex flex-col items-center justify-center gap-2.5 mt-4",children:(0,r.jsx)("span",{className:"text-sm text-black",children:"You have connected all channels"})}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2.5 mt-4 ",children:p.map(e=>{let{name:n,icon:s}=e;return(0,r.jsx)(x,{name:n,icon:s,setSettingTab:t,foryou:a},n)})}):(0,r.jsxs)(r.Fragment,{children:[p.length>0&&(0,r.jsxs)("section",{children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-black",children:"Add Integrations"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-4 ",children:p.map(e=>{let{name:a,icon:n}=e;return(0,r.jsx)(x,{name:a,icon:n,setSettingTab:t},a)})})]}),n.length>0&&(0,r.jsxs)("section",{className:"mt-8",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-black",children:"Current Integrations"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-4 ",children:n.map(e=>{let{name:a}=e;return(0,r.jsx)(x,{name:a,icon:d(a),setSettingTab:t},a)})})]})]})},x=e=>{let{name:t,icon:a,setSettingTab:n,foryou:s}=e,l=(0,d.useRouter)();return(0,r.jsxs)("div",{className:"bg-[#F7F9FB] border border-[#E1E7EF] rounded cursor-pointer flex flex-col items-center justify-center ".concat(s?"gap-2.5 py-6":"gap-2 h-36"," "),onClick:()=>{if(i.A.getOrgSetupRedirectPath()){l.replace({pathname:s?"/settings":"",query:{tab:"business-setting",from:"channels-management"}}),n&&n("business-setting");return}l.push("/integration/".concat(t.toLowerCase().split(" ").join("-")))},children:["string"==typeof a&&(0,r.jsx)("span",{children:a}),"object"==typeof a&&(0,r.jsx)(c(),{src:a,alt:t,width:50,height:50,className:"object-contain ".concat(s?"w-6 h-6":"")}),"string"!=typeof a&&(0,r.jsx)("span",{className:"text-sm text-black text-center",children:t})]})}},61302:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(37876);a(14232);var n=a(45982);let s=e=>{let{size:t=20,className:a="",...s}=e;return(0,r.jsx)("button",{type:"button",className:"p-2 text-red-500 hover:text-red-600 cursor-pointer ".concat(a),...s,children:(0,r.jsx)(n.A,{className:"w-5 h-5"})})}},83285:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(95551).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},91589:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(37876),n=a(14232),s=a(75683);let i={success:"bg-green-100 text-green-800 border-green-300",info:"bg-blue-100 text-blue-800 border-blue-300",error:"bg-red-100 text-red-800 border-red-300"},l=e=>{let{type:t,message:a,className:l="",onClose:o,autoCloseDelay:c=1e3}=e;return(0,n.useEffect)(()=>{if(o){let e=setTimeout(()=>{o()},c);return()=>clearTimeout(e)}},[o,c]),(0,r.jsx)("div",{className:"fixed top-4 left-0 right-0 flex justify-center z-[9999] pointer-events-none",children:(0,r.jsxs)("div",{className:"border rounded px-4 py-3 ".concat(i[t]," ").concat(l," \n                pointer-events-auto w-fit flex justify-between items-center \n                shadow-lg animate-slide-down"),role:"alert",children:[(0,r.jsx)("span",{children:a}),o&&(0,r.jsx)("button",{onClick:o,className:"ml-4 hover:opacity-70 transition-opacity","aria-label":"Close",children:(0,r.jsx)(s.WQq,{size:20})})]})})}},94344:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(14232);let n=(e,t)=>{(0,r.useEffect)(()=>{let a=a=>{!e.some(e=>e.current&&e.current.contains(a.target))&&t(a)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[e,t])}},98034:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return a(42252)}])},99953:e=>{e.exports=[{code:"AED",number:"784",digits:2,currency:"UAE Dirham",countries:["United Arab Emirates (The)"]},{code:"AFN",number:"971",digits:2,currency:"Afghani",countries:["Afghanistan"]},{code:"ALL",number:"008",digits:2,currency:"Lek",countries:["Albania"]},{code:"AMD",number:"051",digits:2,currency:"Armenian Dram",countries:["Armenia"]},{code:"ANG",number:"532",digits:2,currency:"Netherlands Antillean Guilder",countries:["Cura\xe7ao","Sint Maarten (Dutch Part)"]},{code:"AOA",number:"973",digits:2,currency:"Kwanza",countries:["Angola"]},{code:"ARS",number:"032",digits:2,currency:"Argentine Peso",countries:["Argentina"]},{code:"AUD",number:"036",digits:2,currency:"Australian Dollar",countries:["Australia","Christmas Island","Cocos (Keeling) Islands (The)","Heard Island and Mcdonald Islands","Kiribati","Nauru","Norfolk Island","Tuvalu"]},{code:"AWG",number:"533",digits:2,currency:"Aruban Florin",countries:["Aruba"]},{code:"AZN",number:"944",digits:2,currency:"Azerbaijan Manat",countries:["Azerbaijan"]},{code:"BAM",number:"977",digits:2,currency:"Convertible Mark",countries:["Bosnia and Herzegovina"]},{code:"BBD",number:"052",digits:2,currency:"Barbados Dollar",countries:["Barbados"]},{code:"BDT",number:"050",digits:2,currency:"Taka",countries:["Bangladesh"]},{code:"BGN",number:"975",digits:2,currency:"Bulgarian Lev",countries:["Bulgaria"]},{code:"BHD",number:"048",digits:3,currency:"Bahraini Dinar",countries:["Bahrain"]},{code:"BIF",number:"108",digits:0,currency:"Burundi Franc",countries:["Burundi"]},{code:"BMD",number:"060",digits:2,currency:"Bermudian Dollar",countries:["Bermuda"]},{code:"BND",number:"096",digits:2,currency:"Brunei Dollar",countries:["Brunei Darussalam"]},{code:"BOB",number:"068",digits:2,currency:"Boliviano",countries:["Bolivia (Plurinational State Of)"]},{code:"BOV",number:"984",digits:2,currency:"Mvdol",countries:["Bolivia (Plurinational State Of)"]},{code:"BRL",number:"986",digits:2,currency:"Brazilian Real",countries:["Brazil"]},{code:"BSD",number:"044",digits:2,currency:"Bahamian Dollar",countries:["Bahamas (The)"]},{code:"BTN",number:"064",digits:2,currency:"Ngultrum",countries:["Bhutan"]},{code:"BWP",number:"072",digits:2,currency:"Pula",countries:["Botswana"]},{code:"BYN",number:"933",digits:2,currency:"Belarusian Ruble",countries:["Belarus"]},{code:"BZD",number:"084",digits:2,currency:"Belize Dollar",countries:["Belize"]},{code:"CAD",number:"124",digits:2,currency:"Canadian Dollar",countries:["Canada"]},{code:"CDF",number:"976",digits:2,currency:"Congolese Franc",countries:["Congo (The Democratic Republic of The)"]},{code:"CHE",number:"947",digits:2,currency:"WIR Euro",countries:["Switzerland"]},{code:"CHF",number:"756",digits:2,currency:"Swiss Franc",countries:["Liechtenstein","Switzerland"]},{code:"CHW",number:"948",digits:2,currency:"WIR Franc",countries:["Switzerland"]},{code:"CLF",number:"990",digits:4,currency:"Unidad de Fomento",countries:["Chile"]},{code:"CLP",number:"152",digits:0,currency:"Chilean Peso",countries:["Chile"]},{code:"CNY",number:"156",digits:2,currency:"Yuan Renminbi",countries:["China"]},{code:"COP",number:"170",digits:2,currency:"Colombian Peso",countries:["Colombia"]},{code:"COU",number:"970",digits:2,currency:"Unidad de Valor Real",countries:["Colombia"]},{code:"CRC",number:"188",digits:2,currency:"Costa Rican Colon",countries:["Costa Rica"]},{code:"CUC",number:"931",digits:2,currency:"Peso Convertible",countries:["Cuba"]},{code:"CUP",number:"192",digits:2,currency:"Cuban Peso",countries:["Cuba"]},{code:"CVE",number:"132",digits:2,currency:"Cabo Verde Escudo",countries:["Cabo Verde"]},{code:"CZK",number:"203",digits:2,currency:"Czech Koruna",countries:["Czechia"]},{code:"DJF",number:"262",digits:0,currency:"Djibouti Franc",countries:["Djibouti"]},{code:"DKK",number:"208",digits:2,currency:"Danish Krone",countries:["Denmark","Faroe Islands (The)","Greenland"]},{code:"DOP",number:"214",digits:2,currency:"Dominican Peso",countries:["Dominican Republic (The)"]},{code:"DZD",number:"012",digits:2,currency:"Algerian Dinar",countries:["Algeria"]},{code:"EGP",number:"818",digits:2,currency:"Egyptian Pound",countries:["Egypt"]},{code:"ERN",number:"232",digits:2,currency:"Nakfa",countries:["Eritrea"]},{code:"ETB",number:"230",digits:2,currency:"Ethiopian Birr",countries:["Ethiopia"]},{code:"EUR",number:"978",digits:2,currency:"Euro",countries:["\xc5land Islands","Andorra","Austria","Belgium","Croatia","Cyprus","Estonia","European Union","Finland","France","French Guiana","French Southern Territories (The)","Germany","Greece","Guadeloupe","Holy See (The)","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Martinique","Mayotte","Monaco","Montenegro","Netherlands (The)","Portugal","R\xe9union","Saint Barth\xe9lemy","Saint Martin (French Part)","Saint Pierre and Miquelon","San Marino","Slovakia","Slovenia","Spain"]},{code:"FJD",number:"242",digits:2,currency:"Fiji Dollar",countries:["Fiji"]},{code:"FKP",number:"238",digits:2,currency:"Falkland Islands Pound",countries:["Falkland Islands (The) [Malvinas]"]},{code:"GBP",number:"826",digits:2,currency:"Pound Sterling",countries:["Guernsey","Isle of Man","Jersey","United Kingdom of Great Britain and Northern Ireland (The)"]},{code:"GEL",number:"981",digits:2,currency:"Lari",countries:["Georgia"]},{code:"GHS",number:"936",digits:2,currency:"Ghana Cedi",countries:["Ghana"]},{code:"GIP",number:"292",digits:2,currency:"Gibraltar Pound",countries:["Gibraltar"]},{code:"GMD",number:"270",digits:2,currency:"Dalasi",countries:["Gambia (The)"]},{code:"GNF",number:"324",digits:0,currency:"Guinean Franc",countries:["Guinea"]},{code:"GTQ",number:"320",digits:2,currency:"Quetzal",countries:["Guatemala"]},{code:"GYD",number:"328",digits:2,currency:"Guyana Dollar",countries:["Guyana"]},{code:"HKD",number:"344",digits:2,currency:"Hong Kong Dollar",countries:["Hong Kong"]},{code:"HNL",number:"340",digits:2,currency:"Lempira",countries:["Honduras"]},{code:"HTG",number:"332",digits:2,currency:"Gourde",countries:["Haiti"]},{code:"HUF",number:"348",digits:2,currency:"Forint",countries:["Hungary"]},{code:"IDR",number:"360",digits:2,currency:"Rupiah",countries:["Indonesia"]},{code:"ILS",number:"376",digits:2,currency:"New Israeli Sheqel",countries:["Israel"]},{code:"INR",number:"356",digits:2,currency:"Indian Rupee",countries:["Bhutan","India"]},{code:"IQD",number:"368",digits:3,currency:"Iraqi Dinar",countries:["Iraq"]},{code:"IRR",number:"364",digits:2,currency:"Iranian Rial",countries:["Iran (Islamic Republic Of)"]},{code:"ISK",number:"352",digits:0,currency:"Iceland Krona",countries:["Iceland"]},{code:"JMD",number:"388",digits:2,currency:"Jamaican Dollar",countries:["Jamaica"]},{code:"JOD",number:"400",digits:3,currency:"Jordanian Dinar",countries:["Jordan"]},{code:"JPY",number:"392",digits:0,currency:"Yen",countries:["Japan"]},{code:"KES",number:"404",digits:2,currency:"Kenyan Shilling",countries:["Kenya"]},{code:"KGS",number:"417",digits:2,currency:"Som",countries:["Kyrgyzstan"]},{code:"KHR",number:"116",digits:2,currency:"Riel",countries:["Cambodia"]},{code:"KMF",number:"174",digits:0,currency:"Comorian Franc ",countries:["Comoros (The)"]},{code:"KPW",number:"408",digits:2,currency:"North Korean Won",countries:["Korea (The Democratic People’s Republic Of)"]},{code:"KRW",number:"410",digits:0,currency:"Won",countries:["Korea (The Republic Of)"]},{code:"KWD",number:"414",digits:3,currency:"Kuwaiti Dinar",countries:["Kuwait"]},{code:"KYD",number:"136",digits:2,currency:"Cayman Islands Dollar",countries:["Cayman Islands (The)"]},{code:"KZT",number:"398",digits:2,currency:"Tenge",countries:["Kazakhstan"]},{code:"LAK",number:"418",digits:2,currency:"Lao Kip",countries:["Lao People’s Democratic Republic (The)"]},{code:"LBP",number:"422",digits:2,currency:"Lebanese Pound",countries:["Lebanon"]},{code:"LKR",number:"144",digits:2,currency:"Sri Lanka Rupee",countries:["Sri Lanka"]},{code:"LRD",number:"430",digits:2,currency:"Liberian Dollar",countries:["Liberia"]},{code:"LSL",number:"426",digits:2,currency:"Loti",countries:["Lesotho"]},{code:"LYD",number:"434",digits:3,currency:"Libyan Dinar",countries:["Libya"]},{code:"MAD",number:"504",digits:2,currency:"Moroccan Dirham",countries:["Morocco","Western Sahara"]},{code:"MDL",number:"498",digits:2,currency:"Moldovan Leu",countries:["Moldova (The Republic Of)"]},{code:"MGA",number:"969",digits:2,currency:"Malagasy Ariary",countries:["Madagascar"]},{code:"MKD",number:"807",digits:2,currency:"Denar",countries:["North Macedonia"]},{code:"MMK",number:"104",digits:2,currency:"Kyat",countries:["Myanmar"]},{code:"MNT",number:"496",digits:2,currency:"Tugrik",countries:["Mongolia"]},{code:"MOP",number:"446",digits:2,currency:"Pataca",countries:["Macao"]},{code:"MRU",number:"929",digits:2,currency:"Ouguiya",countries:["Mauritania"]},{code:"MUR",number:"480",digits:2,currency:"Mauritius Rupee",countries:["Mauritius"]},{code:"MVR",number:"462",digits:2,currency:"Rufiyaa",countries:["Maldives"]},{code:"MWK",number:"454",digits:2,currency:"Malawi Kwacha",countries:["Malawi"]},{code:"MXN",number:"484",digits:2,currency:"Mexican Peso",countries:["Mexico"]},{code:"MXV",number:"979",digits:2,currency:"Mexican Unidad de Inversion (UDI)",countries:["Mexico"]},{code:"MYR",number:"458",digits:2,currency:"Malaysian Ringgit",countries:["Malaysia"]},{code:"MZN",number:"943",digits:2,currency:"Mozambique Metical",countries:["Mozambique"]},{code:"NAD",number:"516",digits:2,currency:"Namibia Dollar",countries:["Namibia"]},{code:"NGN",number:"566",digits:2,currency:"Naira",countries:["Nigeria"]},{code:"NIO",number:"558",digits:2,currency:"Cordoba Oro",countries:["Nicaragua"]},{code:"NOK",number:"578",digits:2,currency:"Norwegian Krone",countries:["Bouvet Island","Norway","Svalbard and Jan Mayen"]},{code:"NPR",number:"524",digits:2,currency:"Nepalese Rupee",countries:["Nepal"]},{code:"NZD",number:"554",digits:2,currency:"New Zealand Dollar",countries:["Cook Islands (The)","New Zealand","Niue","Pitcairn","Tokelau"]},{code:"OMR",number:"512",digits:3,currency:"Rial Omani",countries:["Oman"]},{code:"PAB",number:"590",digits:2,currency:"Balboa",countries:["Panama"]},{code:"PEN",number:"604",digits:2,currency:"Sol",countries:["Peru"]},{code:"PGK",number:"598",digits:2,currency:"Kina",countries:["Papua New Guinea"]},{code:"PHP",number:"608",digits:2,currency:"Philippine Peso",countries:["Philippines (The)"]},{code:"PKR",number:"586",digits:2,currency:"Pakistan Rupee",countries:["Pakistan"]},{code:"PLN",number:"985",digits:2,currency:"Zloty",countries:["Poland"]},{code:"PYG",number:"600",digits:0,currency:"Guarani",countries:["Paraguay"]},{code:"QAR",number:"634",digits:2,currency:"Qatari Rial",countries:["Qatar"]},{code:"RON",number:"946",digits:2,currency:"Romanian Leu",countries:["Romania"]},{code:"RSD",number:"941",digits:2,currency:"Serbian Dinar",countries:["Serbia"]},{code:"RUB",number:"643",digits:2,currency:"Russian Ruble",countries:["Russian Federation (The)"]},{code:"RWF",number:"646",digits:0,currency:"Rwanda Franc",countries:["Rwanda"]},{code:"SAR",number:"682",digits:2,currency:"Saudi Riyal",countries:["Saudi Arabia"]},{code:"SBD",number:"090",digits:2,currency:"Solomon Islands Dollar",countries:["Solomon Islands"]},{code:"SCR",number:"690",digits:2,currency:"Seychelles Rupee",countries:["Seychelles"]},{code:"SDG",number:"938",digits:2,currency:"Sudanese Pound",countries:["Sudan (The)"]},{code:"SEK",number:"752",digits:2,currency:"Swedish Krona",countries:["Sweden"]},{code:"SGD",number:"702",digits:2,currency:"Singapore Dollar",countries:["Singapore"]},{code:"SHP",number:"654",digits:2,currency:"Saint Helena Pound",countries:["Saint Helena, Ascension and Tristan Da Cunha"]},{code:"SLE",number:"925",digits:2,currency:"Leone",countries:["Sierra Leone"]},{code:"SOS",number:"706",digits:2,currency:"Somali Shilling",countries:["Somalia"]},{code:"SRD",number:"968",digits:2,currency:"Surinam Dollar",countries:["Suriname"]},{code:"SSP",number:"728",digits:2,currency:"South Sudanese Pound",countries:["South Sudan"]},{code:"STN",number:"930",digits:2,currency:"Dobra",countries:["Sao Tome and Principe"]},{code:"SVC",number:"222",digits:2,currency:"El Salvador Colon",countries:["El Salvador"]},{code:"SYP",number:"760",digits:2,currency:"Syrian Pound",countries:["Syrian Arab Republic"]},{code:"SZL",number:"748",digits:2,currency:"Lilangeni",countries:["Eswatini"]},{code:"THB",number:"764",digits:2,currency:"Baht",countries:["Thailand"]},{code:"TJS",number:"972",digits:2,currency:"Somoni",countries:["Tajikistan"]},{code:"TMT",number:"934",digits:2,currency:"Turkmenistan New Manat",countries:["Turkmenistan"]},{code:"TND",number:"788",digits:3,currency:"Tunisian Dinar",countries:["Tunisia"]},{code:"TOP",number:"776",digits:2,currency:"Pa’anga",countries:["Tonga"]},{code:"TRY",number:"949",digits:2,currency:"Turkish Lira",countries:["T\xfcrki̇ye"]},{code:"TTD",number:"780",digits:2,currency:"Trinidad and Tobago Dollar",countries:["Trinidad and Tobago"]},{code:"TWD",number:"901",digits:2,currency:"New Taiwan Dollar",countries:["Taiwan (Province of China)"]},{code:"TZS",number:"834",digits:2,currency:"Tanzanian Shilling",countries:["Tanzania, United Republic Of"]},{code:"UAH",number:"980",digits:2,currency:"Hryvnia",countries:["Ukraine"]},{code:"UGX",number:"800",digits:0,currency:"Uganda Shilling",countries:["Uganda"]},{code:"USD",number:"840",digits:2,currency:"US Dollar",countries:["American Samoa","Bonaire, Sint Eustatius and Saba","British Indian Ocean Territory (The)","Ecuador","El Salvador","Guam","Haiti","Marshall Islands (The)","Micronesia (Federated States Of)","Northern Mariana Islands (The)","Palau","Panama","Puerto Rico","Timor-Leste","Turks and Caicos Islands (The)","United States Minor Outlying Islands (The)","United States of America (The)","Virgin Islands (British)","Virgin Islands (u.s.)"]},{code:"USN",number:"997",digits:2,currency:"US Dollar (Next day)",countries:["United States of America (The)"]},{code:"UYI",number:"940",digits:0,currency:"Uruguay Peso en Unidades Indexadas (UI)",countries:["Uruguay"]},{code:"UYU",number:"858",digits:2,currency:"Peso Uruguayo",countries:["Uruguay"]},{code:"UYW",number:"927",digits:4,currency:"Unidad Previsional",countries:["Uruguay"]},{code:"UZS",number:"860",digits:2,currency:"Uzbekistan Sum",countries:["Uzbekistan"]},{code:"VED",number:"926",digits:2,currency:"Bol\xedvar Soberano",countries:["Venezuela (Bolivarian Republic Of)"]},{code:"VES",number:"928",digits:2,currency:"Bol\xedvar Soberano",countries:["Venezuela (Bolivarian Republic Of)"]},{code:"VND",number:"704",digits:0,currency:"Dong",countries:["Viet Nam"]},{code:"VUV",number:"548",digits:0,currency:"Vatu",countries:["Vanuatu"]},{code:"WST",number:"882",digits:2,currency:"Tala",countries:["Samoa"]},{code:"XAF",number:"950",digits:0,currency:"CFA Franc BEAC",countries:["Cameroon","Central African Republic (The)","Chad","Congo (The)","Equatorial Guinea","Gabon"]},{code:"XAG",number:"961",digits:0,currency:"Silver",countries:["Zz11_silver"]},{code:"XAU",number:"959",digits:0,currency:"Gold",countries:["Zz08_gold"]},{code:"XBA",number:"955",digits:0,currency:"Bond Markets Unit European Composite Unit (EURCO)",countries:["Zz01_bond Markets Unit European_eurco"]},{code:"XBB",number:"956",digits:0,currency:"Bond Markets Unit European Monetary Unit (E.M.U.-6)",countries:["Zz02_bond Markets Unit European_emu-6"]},{code:"XBC",number:"957",digits:0,currency:"Bond Markets Unit European Unit of Account 9 (E.U.A.-9)",countries:["Zz03_bond Markets Unit European_eua-9"]},{code:"XBD",number:"958",digits:0,currency:"Bond Markets Unit European Unit of Account 17 (E.U.A.-17)",countries:["Zz04_bond Markets Unit European_eua-17"]},{code:"XCD",number:"951",digits:2,currency:"East Caribbean Dollar",countries:["Anguilla","Antigua and Barbuda","Dominica","Grenada","Montserrat","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines"]},{code:"XDR",number:"960",digits:0,currency:"SDR (Special Drawing Right)",countries:["International Monetary Fund (Imf)\xa0"]},{code:"XOF",number:"952",digits:0,currency:"CFA Franc BCEAO",countries:["Benin","Burkina Faso","C\xf4te D'ivoire","Guinea-Bissau","Mali","Niger (The)","Senegal","Togo"]},{code:"XPD",number:"964",digits:0,currency:"Palladium",countries:["Zz09_palladium"]},{code:"XPF",number:"953",digits:0,currency:"CFP Franc",countries:["French Polynesia","New Caledonia","Wallis and Futuna"]},{code:"XPT",number:"962",digits:0,currency:"Platinum",countries:["Zz10_platinum"]},{code:"XSU",number:"994",digits:0,currency:"Sucre",countries:['Sistema Unitario De Compensacion Regional De Pagos "Sucre"']},{code:"XTS",number:"963",digits:0,currency:"Codes specifically reserved for testing purposes",countries:["Zz06_testing_code"]},{code:"XUA",number:"965",digits:0,currency:"ADB Unit of Account",countries:["Member Countries of the African Development Bank Group"]},{code:"XXX",number:"999",digits:0,currency:"The codes assigned for transactions where no currency is involved",countries:["Zz07_no_currency"]},{code:"YER",number:"886",digits:2,currency:"Yemeni Rial",countries:["Yemen"]},{code:"ZAR",number:"710",digits:2,currency:"Rand",countries:["Lesotho","Namibia","South Africa"]},{code:"ZMW",number:"967",digits:2,currency:"Zambian Kwacha",countries:["Zambia"]},{code:"ZWG",number:"924",digits:2,currency:"Zimbabwe Gold",countries:["Zimbabwe"]}]}},e=>{var t=t=>e(e.s=t);e.O(0,[5711,4938,2517,8585,9897,4e3,9034,950,5653,636,6593,8792],()=>t(98034)),_N_E=e.O()}]);
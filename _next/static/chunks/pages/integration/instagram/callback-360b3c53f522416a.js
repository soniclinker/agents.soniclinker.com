(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7951],{4378:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/integration/instagram/callback",function(){return r(12912)}])},12912:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(37876),s=r(65259),n=r(43598),c=r(89099),i=r(14232),l=r(75683);let o=()=>{let e=(0,c.useRouter)(),{code:t}=e.query,[r,o]=(0,i.useState)("loading"),d=n.A.currentId(),u=(0,i.useCallback)(async t=>{let r=await s.A.doPost({path:"/orgs/".concat(d,"/instagram/auth-code"),data:{code:t,url:"".concat(window.location.origin).concat(e.pathname)}});r.error?(console.log(r.error),o("error")):(o("success"),e.push("/integration/instagram"))},[e,d]);return(0,i.useEffect)(()=>{t?u(t):o("error")},[t,u]),(0,a.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6 text-gray-700 h-[calc(100vh-10rem)] md:h-[calc(100vh-7rem)]",children:[(0,a.jsx)("div",{children:"loading"!==r&&(0,a.jsx)("button",{className:"text-4xl hover:text-gray-800 mb-4 cursor-pointer",onClick:()=>e.push("/integration/instagram"),children:(0,a.jsx)(l.eh5,{})})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:["loading"===r&&(0,a.jsx)("div",{className:"textPrimary text-lg font-medium animate-pulse",children:"Connecting to Instagram..."}),"success"===r&&(0,a.jsx)("div",{className:"text-green-600 text-lg font-semibold",children:"✅ Instagram connected successfully!"}),"error"===r&&(0,a.jsx)("div",{className:"text-red-600 text-lg font-semibold",children:"❌ Something went wrong. Please try again."})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5711,636,6593,8792],()=>t(4378)),_N_E=e.O()}]);
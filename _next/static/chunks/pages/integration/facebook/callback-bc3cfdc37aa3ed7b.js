(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9645],{4974:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(37876),a=r(75683),o=r(14e3),c=r(14232),l=r(3176),n=r(65259),i=r(43598);let d=()=>{let e=(0,o.useRouter)(),t=(0,o.useSearchParams)(),[r,d]=(0,c.useState)("loading"),u=t.get("code");(0,c.useEffect)(()=>{u?x(u):d("error")},[u]);let x=async t=>{(await n.A.doPost({path:"/orgs/".concat(i.A.currentId(),"/fb/auth-code"),data:{code:t,redirect_uri:"".concat(l.A.appUrl,"/integration/facebook/callback")}})).error?d("error"):(d("success"),e.push("/integration/facebook"))};return(0,s.jsxs)("div",{className:"flex items-start justify-start bg-gray-100",children:["loading"===r&&(0,s.jsx)("div",{className:"textPrimary text-lg font-medium animate-pulse",children:"Connecting to Facebook..."}),"success"===r&&(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"bg-white flex flex-col border border-slate-200 rounded-lg p-6 text-gray-700",children:[(0,s.jsx)("button",{className:"text-4xl hover:text-gray-800 mb-4 cursor-pointer",onClick:()=>e.push("/integration/facebook"),children:(0,s.jsx)(a.eh5,{})}),(0,s.jsx)("div",{className:"text-green-600 text-lg font-semibold",children:"✅ Facebook account connected successfully!"})]})}),"error"===r&&(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"bg-white flex flex-col border border-slate-200 rounded-lg p-6 text-gray-700",children:[(0,s.jsx)("button",{className:"text-4xl hover:text-gray-800 mb-4 cursor-pointer",onClick:()=>e.push("/integration/facebook"),children:(0,s.jsx)(a.eh5,{})}),(0,s.jsx)("div",{className:"text-red-600 text-lg font-semibold",children:"❌ Something went wrong. Please try again."})]})})]})}},87890:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/integration/facebook/callback",function(){return r(4974)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[5711,4e3,636,6593,8792],()=>t(87890)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7439],{20539:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(37876),n=s(65259),r=s(43598),c=s(96154),i=s(89099),l=s(14232),o=s(75683),d=s(3176);let h=()=>{let[e,t]=(0,l.useState)(null),[s,h]=(0,l.useState)(!1),u=(0,i.useRouter)(),p=(0,l.useCallback)(async()=>{try{var e;h(!0);let s=await n.A.doGet({path:"/orgs/".concat(r.A.currentId(),"/mcp/connections")});if(s.error&&"item_not_found"===s.error.code){let{data:e,error:t}=await n.A.doPost({path:"/orgs/".concat(r.A.currentId(),"/mcp/connections?setup=true"),data:{}});if(t){console.log("Error creating connection:",t),h(!1);return}e&&p()}if(Object.keys(null===(e=s.data.connection)||void 0===e?void 0:e.servers).length>0){let e=Object.keys(s.data.connection.servers)[0],a=s.data.connection.servers[e];t(a)}h(!1)}catch(e){console.log(e),t(null),h(!1)}},[]);return(0,l.useEffect)(()=>{p()},[p]),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6 text-gray-700",children:[(0,a.jsx)("button",{className:"text-4xl hover:text-gray-800 mb-4 cursor-pointer",onClick:()=>u.push("/settings/?tab=channels-management"),children:(0,a.jsx)(o.eh5,{})}),(0,a.jsx)("div",{className:"flex flex-col items-start mb-8",children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:"MCP"})}),s&&(0,a.jsx)("div",{className:"flex justify-center items-center h-20",children:(0,a.jsx)(c.A,{className:"animate-spin text-gray-600",size:32})}),!s&&!e&&(0,a.jsx)("div",{className:"text-gray-600",children:"No MCP server found for your business."}),!s&&!!e&&(0,a.jsxs)("div",{className:"flex flex-col items-start gap-8",children:[(0,a.jsxs)("span",{children:["Server URL: ",(0,a.jsx)("span",{className:"font-bold",children:d.A.apiUrl+"/mcp/"+e.id})]}),(0,a.jsxs)("span",{children:["Capabilities: ",(0,a.jsx)("span",{className:"font-bold",children:e.capabilities.join(", ")})]})]})]})})}},94993:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/integration/mcp",function(){return s(20539)}])},96154:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(95551).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[5711,636,6593,8792],()=>t(94993)),_N_E=e.O()}]);
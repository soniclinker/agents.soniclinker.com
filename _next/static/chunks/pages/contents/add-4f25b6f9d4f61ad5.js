(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4550,6407],{29463:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/contents/add",function(){return r(50812)}])},50812:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(37876),l=r(65259),a=r(43598),n=r(30136),i=r(89099),o=r(14232),d=r(91589),c=r(75683);let u=()=>{let[e,t]=(0,o.useState)(""),[r,u]=(0,o.useState)("\n# Page Title\n\n---\n\n**This is content of the default page. Please edit this to your desired content.**\n\n"),[x,m]=(0,o.useState)(""),[h,f]=(0,o.useState)(""),[b,g]=(0,o.useState)(!1),[v,j]=(0,o.useState)("error"),[p,N]=(0,o.useState)(!1),[w,y]=(0,o.useState)([]),[C,k]=(0,o.useState)({}),S=(0,i.useRouter)(),{id:_}=S.query,E=(0,o.useCallback)(async()=>{var e,t,r;let s=await l.A.doGet({path:"/orgs/".concat(a.A.current().id,"/domains")});y(null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.domains),(null==s?void 0:null===(r=s.data)||void 0===r?void 0:null===(t=r.domains)||void 0===t?void 0:t.length)&&k(s.data.domains[0])},[]),T=async(e,t,s,n)=>{if(!(null==e?void 0:e.domain_draft)){N(!0),j("error"),f("Domain is required");return}if(!t){N(!0),j("error"),f("Title is required");return}if(!s){N(!0),j("error"),f("Slug is required");return}if("index"===s.toLocaleLowerCase()){N(!0),j("error"),f('Slug cannot be "index');return}let i={title:t,slug:s,domain_id:e.id,action:n,data:r},o=await l.A.doPost({path:"/orgs/".concat(a.A.current().id,"/contents"),data:i});if(o.error){f(o.error.message),N(!0);return}S.back()};return(0,o.useEffect)(()=>{E()},[E]),(0,s.jsxs)("div",{className:"p-6 h-full flex flex-col justify-between relative",children:[(0,s.jsx)("div",{className:"m-auto absolute",children:p&&(0,s.jsx)(d.A,{type:v,message:h,onClose:()=>N(!1),autoCloseDelay:2e3})}),(0,s.jsx)("div",{className:"w-min cursor-pointer text-4xl hover:text-gray-800 mb-4",onClick:()=>S.back(),children:(0,s.jsx)(c.eh5,{})}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"justify-start text-black text-xl font-bold font-['Urbanist']",children:"Add Contents"}),(0,s.jsxs)("div",{className:"flex justify-end items-center gap-4 text-blue-400",children:[(0,s.jsx)("div",{className:"cursor-pointer",onClick:()=>S.back(),children:"Cancel"}),(0,s.jsx)("div",{className:"cursor-pointer",onClick:()=>{T(C,e,x,"draft")},children:"Save Draft"}),(0,s.jsx)("div",{className:"cursor-pointer",onClick:()=>{T(C,e,x,"publish")},children:"Publish"})]})]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"w-1/3 flex flex-col",children:(0,s.jsxs)("div",{className:"w-10/12",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,s.jsx)("input",{className:"h-[36px] border border-neutral-300 text-gray-600 font-medium bg-white max-w-3xl rounded-lg p-3 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition",type:"text",placeholder:"Enter Title",value:e,onChange:e=>t(e.target.value)})]})}),(0,s.jsx)("div",{className:"w-1/3 flex flex-col",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),(0,s.jsx)("input",{className:"h-[36px] border border-neutral-300 text-gray-600 font-medium bg-white max-w-3xl rounded-lg p-3 focus:ring-1 focus:ring-blue-400 focus:border-blue-400 outline-none transition",type:"text",placeholder:"Enter Slug",value:x,onChange:e=>m(e.target.value)})]})}),1!==w.length&&(0,s.jsxs)("div",{className:"w-1/3",children:[(0,s.jsx)("label",{htmlFor:"domain",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Domain"}),(0,s.jsx)("select",{id:"domain",onChange:e=>{let t=e.target.value,r=w.find(e=>{let{id:r}=e;return r===t});r&&k(r)},className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-white text-sm text-gray-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:w.map(e=>{let{id:t,domain_draft:r}=e;return(0,s.jsx)("option",{value:t,children:r.length>30?"".concat(r.substring(0,30),"..."):r},t)})})]})]}),(0,s.jsxs)("div",{className:"grow",children:[(0,s.jsx)("div",{className:"text-neutral-500 font-medium text-base mt-4",children:"Content"}),(0,s.jsx)("div",{className:"mt-1 h-11/12","data-color-mode":"light",children:(0,s.jsx)(n.default,{height:"100%",value:r,onChange:e=>{u(e||"")},textareaProps:{placeholder:"Write your content here..."}})})]})]})}},91589:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(37876),l=r(14232),a=r(75683);let n={success:"bg-green-100 text-green-800 border-green-300",info:"bg-blue-100 text-blue-800 border-blue-300",error:"bg-red-100 text-red-800 border-red-300"},i=e=>{let{type:t,message:r,className:i="",onClose:o,autoCloseDelay:d=1e3}=e;return(0,l.useEffect)(()=>{if(o){let e=setTimeout(()=>{o()},d);return()=>clearTimeout(e)}},[o,d]),(0,s.jsx)("div",{className:"fixed top-4 left-0 right-0 flex justify-center z-[9999] pointer-events-none",children:(0,s.jsxs)("div",{className:"border rounded px-4 py-3 ".concat(n[t]," ").concat(i," \n                pointer-events-auto w-fit flex justify-between items-center \n                shadow-lg animate-slide-down"),role:"alert",children:[(0,s.jsx)("span",{children:r}),o&&(0,s.jsx)("button",{onClick:o,className:"ml-4 hover:opacity-70 transition-opacity","aria-label":"Close",children:(0,s.jsx)(a.WQq,{size:20})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5711,2930,136,636,6593,8792],()=>t(29463)),_N_E=e.O()}]);
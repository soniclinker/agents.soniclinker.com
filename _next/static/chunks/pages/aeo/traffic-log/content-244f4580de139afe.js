(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8532],{6246:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(95551).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},11632:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var l=s(37876),a=s(65259),r=s(43598),n=s(14232),c=s(89099),i=s(91589),o=s(98188),d=s(75683),x=s(99799);let u=()=>{let[e,t]=(0,n.useState)({month:String(new Date().getMonth()+1).padStart(2,"0"),year:new Date().getFullYear()}),[s,u]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[p,g]=(0,n.useState)(1),[y,v]=(0,n.useState)(10),[j,b]=(0,n.useState)(0),[f,N]=(0,n.useState)(""),[w,k]=(0,n.useState)("error"),[C,_]=(0,n.useState)(!1),A=(0,c.useRouter)(),S=r.A.current().id,P=(0,n.useCallback)(async()=>{let t="".concat(e.year,"-").concat(e.month),l="";s[p-1]&&(l="&next_token=".concat(encodeURIComponent(s[p-1])));let{data:r,error:n}=await a.A.doGet({path:"orgs/".concat(S,"/trafficmon/url?time_range=").concat(t,"&limit=").concat(y).concat(l)});if(n){_(!0),k("error"),N(n.message);return}r&&(h(r.items),b(r.count),u(e=>(e[p]=null==r?void 0:r.next_token,e)))},[S,e,y,p]);return(0,n.useEffect)(()=>{P()},[P]),(0,l.jsxs)("div",{className:"w-full h-full p-[16px] flex flex-col",children:[(0,l.jsx)("div",{className:"m-auto absolute",children:C&&(0,l.jsx)(i.A,{type:w,message:f,onClose:()=>_(!1),autoCloseDelay:2e3})}),(0,l.jsx)("div",{className:"w-min cursor-pointer text-4xl hover:text-gray-800 mb-4",onClick:()=>A.back(),children:(0,l.jsx)(d.eh5,{})}),(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"justify-start text-black text-xl font-bold font-['Urbanist']",children:["Traffic split by contents page (",j,")"]}),(0,l.jsx)("div",{children:(0,l.jsx)(x.default,{value:e,onChange:e=>{g(1),u([]),t(e)},className:"w-[180px]"})})]})}),(0,l.jsx)("div",{className:"flex-1 overflow-hidden mt-4",children:(0,l.jsx)("div",{className:"w-full h-full overflow-y-auto",children:(0,l.jsxs)("table",{className:"w-full table-fixed",children:[(0,l.jsx)("thead",{className:"bg-gray-100 text-gray-700 font-medium sticky top-0 z-11",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"w-4/12 text-center py-3 px-2",children:"Page"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"Count"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"Claude"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"ChatGPT"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"Perplexity AI"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"Google Bard"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"Generic AI Browser"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"GitHub Copilot"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"Google Bot"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"Bing Bot"}),(0,l.jsx)("td",{className:"w-1/10 text-center py-3 px-2",children:"Other"})]})}),(0,l.jsxs)("tbody",{className:"bg-white",children:[m.map(e=>{var t,s,a,r,n,c,i,o,d;return(0,l.jsxs)("tr",{className:"hover:bg-gray-50 border-b border-gray-100",children:[(0,l.jsx)("td",{className:"text-center py-4 px-2",children:(0,l.jsx)("div",{className:"text-left max-w-full",title:(null==e?void 0:e.skey)||"N/A",children:(0,l.jsx)("span",{className:"text-left px-1 break-all",children:(null==e?void 0:e.skey)||"N/A"})})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500 capitalize",children:(null==e?void 0:e.count)||"N/A"})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500",children:(null==e?void 0:null===(t=e.client_count)||void 0===t?void 0:t.claude)||0})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500",children:(null==e?void 0:null===(s=e.client_count)||void 0===s?void 0:s.chatgpt)||"0"})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500",children:(null==e?void 0:null===(a=e.client_count)||void 0===a?void 0:a.perplexity_ai)||"0"})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500",children:(null==e?void 0:null===(r=e.client_count)||void 0===r?void 0:r.google_bard)||0})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500",children:(null==e?void 0:null===(n=e.client_count)||void 0===n?void 0:n.generic_ai_browser)||0})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500",children:(null==e?void 0:null===(c=e.client_count)||void 0===c?void 0:c.gitHub_copilot)||0})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500",children:(null==e?void 0:null===(i=e.client_count)||void 0===i?void 0:i.googlebot)||0})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500",children:(null==e?void 0:null===(o=e.client_count)||void 0===o?void 0:o.bingbot)||0})}),(0,l.jsx)("td",{className:"w-1/10 text-center py-4 px-2",children:(0,l.jsx)("span",{className:"text-slate-500",children:(null==e?void 0:null===(d=e.client_count)||void 0===d?void 0:d.other)||0})})]},null==e?void 0:e.skey)}),0===m.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:11,className:"text-center py-8",children:(0,l.jsx)("span",{className:"text-gray-500",children:"No contents found"})})})]})]})})}),(0,l.jsx)("div",{className:"flex-shrink-0 mt-2 ",children:(0,l.jsx)(o.A,{currentPage:p,setCurrentPage:g,totalItems:j,itemsPerPage:y,setItemsPerPage:e=>{u([]),v(e)},hidePageNumbers:!0})})]})}},28067:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(95551).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},48707:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(95551).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},48963:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(95551).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},91589:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var l=s(37876),a=s(14232),r=s(75683);let n={success:"bg-green-100 text-green-800 border-green-300",info:"bg-blue-100 text-blue-800 border-blue-300",error:"bg-red-100 text-red-800 border-red-300"},c=e=>{let{type:t,message:s,className:c="",onClose:i,autoCloseDelay:o=1e3}=e;return(0,a.useEffect)(()=>{if(i){let e=setTimeout(()=>{i()},o);return()=>clearTimeout(e)}},[i,o]),(0,l.jsx)("div",{className:"fixed top-4 left-0 right-0 flex justify-center z-[9999] pointer-events-none",children:(0,l.jsxs)("div",{className:"border rounded px-4 py-3 ".concat(n[t]," ").concat(c," \n                pointer-events-auto w-fit flex justify-between items-center \n                shadow-lg animate-slide-down"),role:"alert",children:[(0,l.jsx)("span",{children:s}),i&&(0,l.jsx)("button",{onClick:i,className:"ml-4 hover:opacity-70 transition-opacity","aria-label":"Close",children:(0,l.jsx)(r.WQq,{size:20})})]})})}},93421:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/aeo/traffic-log/content",function(){return s(11632)}])},98188:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var l=s(37876),a=s(14232),r=s(6246),n=s(28067),c=s(48963);let i=e=>{let{currentPage:t,setCurrentPage:s,totalItems:i,itemsPerPage:o,setItemsPerPage:d,hidePageNumbers:x=!1}=e,[u,m]=(0,a.useState)(!1),h=Math.ceil(i/o);if(i<=1)return null;let p=e=>{e>=1&&e<=h&&s(e)},g=e=>{d(e),s(1),m(!1)};return(0,l.jsxs)("div",{className:"flex items-center justify-between py-4 px-6 bg-white border-t border-gray-200",children:[(0,l.jsx)("div",{className:"flex items-center text-sm text-gray-600",children:(0,l.jsxs)("span",{children:["Page ",t," of ",h]})}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>p(t-1),disabled:1===t,className:"w-8 h-8 rounded flex items-center justify-center transition-colors ".concat(1===t?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 cursor-pointer"),children:(0,l.jsx)(r.A,{size:16})}),!x&&(0,l.jsx)("div",{className:"flex items-center gap-1 mx-2",children:(()=>{let e=[];if(h<=5)for(let s=1;s<=h;s++)e.push((0,l.jsx)("button",{onClick:()=>p(s),className:"w-8 h-8 rounded text-sm font-medium transition-colors cursor-pointer ".concat(t===s?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:s},s));else{if(e.push((0,l.jsx)("button",{onClick:()=>p(1),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(1===t?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:"1"},1)),t<=3){for(let s=2;s<=Math.min(4,h-1);s++)e.push((0,l.jsx)("button",{onClick:()=>p(s),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(t===s?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:s},s));h>5&&e.push((0,l.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-gray-400",children:"..."},"ellipsis"))}else if(t>=h-2){h>5&&e.push((0,l.jsx)("span",{className:"w-8 h-8 flex  items-center justify-center text-gray-400",children:"..."},"ellipsis"));for(let s=Math.max(h-3,2);s<=h-1;s++)e.push((0,l.jsx)("button",{onClick:()=>p(s),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(t===s?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:s},s))}else{e.push((0,l.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-gray-400",children:"..."},"ellipsis1"));for(let s=t-1;s<=t+1;s++)e.push((0,l.jsx)("button",{onClick:()=>p(s),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(t===s?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:s},s));e.push((0,l.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-gray-400",children:"..."},"ellipsis2"))}h>1&&e.push((0,l.jsx)("button",{onClick:()=>p(h),className:"w-8 h-8 rounded text-sm font-medium transition-colors ".concat(t===h?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:h},h))}return e})()}),(0,l.jsx)("button",{onClick:()=>p(t+1),disabled:t===h,className:"w-8 h-8 rounded flex items-center justify-center transition-colors ".concat(t===h?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 cursor-pointer"),children:(0,l.jsx)(n.A,{size:16})})]}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-600 relative",children:[(0,l.jsxs)("span",{className:"mr-2",children:[o," per page"]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("button",{onClick:()=>m(!u),className:"flex items-center cursor-pointer justify-center w-6 h-6 rounded hover:bg-gray-100 transition-colors",children:(0,l.jsx)(c.A,{size:16})}),u&&(0,l.jsx)("div",{className:"absolute right-0 bottom-[35px] mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-10 min-w-[120px]",children:[5,10,20,50].map(e=>(0,l.jsxs)("button",{onClick:()=>g(e),className:"w-full cursor-pointer px-3 py-2 text-left text-sm hover:bg-gray-50 transition-colors ".concat(o===e?"bg-blue-50 text-blue-600":"text-gray-700"),children:[e," per page"]},e))})]})]}),u&&(0,l.jsx)("div",{className:"fixed inset-0 z-0",onClick:()=>m(!1)})]})}},99799:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var l=s(37876),a=s(14232),r=s(48707),n=s(48963);let c=e=>{var t;let{value:s,onChange:c,className:i}=e,[o,d]=(0,a.useState)(!1),x=[{name:"January",value:"01"},{name:"February",value:"02"},{name:"March",value:"03"},{name:"April",value:"04"},{name:"May",value:"05"},{name:"June",value:"06"},{name:"July",value:"07"},{name:"August",value:"08"},{name:"September",value:"09"},{name:"October",value:"20250"},{name:"November",value:"11"},{name:"December",value:"12"}],u=new Date().getFullYear(),m=Array.from({length:10},(e,t)=>u-5+t),[h,p]=(0,a.useState)((null==s?void 0:s.month)||String(new Date().getMonth())),[g,y]=(0,a.useState)((null==s?void 0:s.year)||u),v=e=>{p(e),c({month:e,year:g})},j=e=>{y(e),c({month:h,year:e})},b=null===(t=x.find(e=>e.value==h))||void 0===t?void 0:t.name,f="".concat(b," ").concat(g);return(0,l.jsxs)("div",{className:"relative ".concat(i),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between border border-gray-300 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>d(!o),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(r.A,{className:"w-4 h-4 text-gray-500"}),(0,l.jsx)("span",{className:"text-gray-700",children:f})]}),(0,l.jsx)(n.A,{className:"w-4 h-4 text-gray-500 transition-transform ".concat(o?"rotate-180":"")})]}),o&&(0,l.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50",children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),(0,l.jsx)("select",{value:g,onChange:e=>j(parseInt(e.target.value)),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:m.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2",children:x.map((e,t)=>(0,l.jsx)("button",{onClick:()=>{v(e.value),d(!1)},className:"px-3 py-2 text-sm rounded transition-colors ".concat(h==String(t)?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:e.name.slice(0,3)},e.value))})]})]})}),o&&(0,l.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5711,636,6593,8792],()=>t(93421)),_N_E=e.O()}]);
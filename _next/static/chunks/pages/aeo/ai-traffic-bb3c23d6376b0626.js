(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4102],{36632:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var a=s(37876),r=s(59884),i=s(45982),l=s(95313),n=s(14232),c=s(65259),o=s(43598),d=s(91589);let m=()=>{let[e,t]=(0,n.useState)({}),[s,m]=(0,n.useState)(""),[x,u]=(0,n.useState)("error"),[h,g]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),[y,j]=(0,n.useState)(!0),b=o.A.current().id,v=(0,n.useCallback)(async()=>{let{data:e,error:s}=await c.A.doGet({path:"orgs/".concat(b,"/api-keys")});if(s){m(s.message),u("error"),j(!1);return}e&&(t(e.api_keys[0]),j(!1))},[b]),N=async()=>{let{data:e,error:t}=await c.A.doPost({path:"orgs/".concat(b,"/api-keys")});if(t){m(t.message),u("error"),j(!1);return}j(!1),await v()},w=async()=>{let{data:s,error:a}=await c.A.doDelete({path:"orgs/".concat(b,"/api-keys/").concat(encodeURIComponent(e.id))});if(a){m(a.message),u("error"),j(!1);return}f(!1),t({}),m(""),j(!1),await v()};(0,n.useEffect)(()=>{v()},[v]),(0,n.useEffect)(()=>{g(!1)},[p]);let k=async(e,t)=>{try{await navigator.clipboard.writeText(e),u("success"),m("".concat(t," copied to clipboard")),g(!0)}catch(e){console.error("Failed to copy text: ",e),u("error"),m("Failed to copy to clipboard"),g(!0)}};return(0,a.jsxs)("div",{children:[!y&&(0,a.jsxs)("div",{children:[!p&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"m-auto absolute",children:h&&(0,a.jsx)(d.A,{type:x,message:s,onClose:()=>g(!1),autoCloseDelay:2e3})}),s&&"error"===x&&(0,a.jsx)("div",{className:"w-full flex justify-center mt-10 text-red-400",children:(0,a.jsx)("div",{children:s})}),(null==e?void 0:e.id)&&(0,a.jsxs)("div",{className:"py-8 px-2 flex items-end justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col w-3/4",children:[(0,a.jsx)("div",{children:"API Key:"}),(0,a.jsx)("div",{className:"overflow-hidden break-all",children:e.id})]}),(0,a.jsx)("div",{className:"cursor-pointer",onClick:()=>{k(e.id,"Api Key")},children:(0,a.jsx)(r.zU_,{className:"text-blue-400 mb-2"})}),(0,a.jsx)("div",{onClick:()=>f(!0),children:(0,a.jsx)(i.A,{size:20,className:"cursor-pointer text-red-400 mb-2"})})]}),!(null==e?void 0:e.id)&&!s&&(0,a.jsx)("div",{className:"w-full flex justify-center items-center pt-10",children:(0,a.jsx)("button",{className:"flex items-center gap-[2px] w-fit px-4 py-2 bg-[#4F46E4] rounded text-white cursor-pointer",onClick:N,children:"Add API Key"})})]}),p&&(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)("div",{children:"Are you sure you want to delete the API key?"}),(0,a.jsxs)("div",{className:"flex justify-end gap-4 pt-2",children:[(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"flex items-center gap-[2px] w-fit px-4 py-1 bg-gray-500 rounded text-white cursor-pointer",onClick:()=>f(!1),children:"Cancle"})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"flex items-center gap-[2px] w-fit px-4 py-1 bg-red-400 rounded text-white cursor-pointer",onClick:w,children:"Delete"})})]})]})]}),y&&(0,a.jsx)("div",{className:"flex justify-center mt-6 h-[40px]",children:(0,a.jsx)(l.A,{className:"animate-spin"})})]})}},48035:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/aeo/ai-traffic",function(){return s(71918)}])},71918:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eV});var a=s(37876),r=s(14232),i=s(63876),l=s(83285),n=s(33673),c=s(34916),o=s(82987),d=s(47137),m=s(69241),x=s(29573);function u(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,x.QP)((0,m.$)(t))}let h=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function g(e){let{className:t,variant:s,size:r,asChild:i=!1,...l}=e,n=i?o.DX:"button";return(0,a.jsx)(n,{"data-slot":"button",className:u(h({variant:s,size:r,className:t})),...l})}function p(e){let{currentPage:t,onPageChange:s}=e,[o,d]=(0,r.useState)(!1),m=[{id:"overview",label:"Overview",icon:i.A},{id:"funnels",label:"Search Funnels",icon:l.A},{id:"content",label:"Content Analytics",icon:n.A},{id:"realtime",label:"Real-time Analytics",icon:c.A}];return(0,a.jsx)("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,a.jsx)(i.A,{className:"h-5 w-5 text-white"})}),(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"AI Traffic Analytics"})})]}),(0,a.jsx)("div",{className:"hidden md:flex space-x-1",children:m.map(e=>{let r=e.icon;return(0,a.jsxs)(g,{variant:t===e.id?"default":"ghost",size:"sm",onClick:()=>s(e.id),className:"flex items-center space-x-2",children:[(0,a.jsx)(r,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.label})]},e.id)})}),(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)("button",{onClick:()=>d(!o),className:"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Toggle navigation",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o?(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),o&&(0,a.jsx)("div",{className:"md:hidden pb-2",children:(0,a.jsx)("div",{className:"flex flex-col space-y-1",children:m.map(e=>{let r=e.icon;return(0,a.jsxs)(g,{variant:t===e.id?"default":"ghost",size:"sm",onClick:()=>{s(e.id),d(!1)},className:"flex items-center space-x-2 w-full justify-start",children:[(0,a.jsx)(r,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.label})]},e.id)})})})]})})}var f=s(36632),y=s(74562),j=s(65259),b=s(43598),v=s(63480),N=s(68869),w=s(62464),k=s(94499),_=s(65748),A=s(7623),C=s(19926),S=s(23518);let D=[{id:"chatgpt",name:"ChatGPT",displayName:"ChatGPT",color:"#10b981",gradient:"from-green-500 to-emerald-600",chartColor:"#10b981",logo:"\uD83E\uDD16",isActive:!0,hasSearchData:!0,hasCTRData:!0,hasClicksData:!0,description:"OpenAI's conversational AI platform"},{id:"perplexity",name:"Perplexity",displayName:"Perplexity",color:"#3b82f6",gradient:"from-blue-500 to-cyan-600",chartColor:"#3b82f6",logo:"\uD83D\uDD0D",isActive:!0,hasSearchData:!0,hasCTRData:!1,hasClicksData:!1,description:"AI-powered search and answer engine"},{id:"claude",name:"Claude",displayName:"Claude",color:"#8b5cf6",gradient:"from-purple-500 to-violet-600",chartColor:"#8b5cf6",logo:"\uD83E\uDDE0",isActive:!0,hasSearchData:!0,hasCTRData:!1,hasClicksData:!1,description:"Anthropic's AI assistant"},{id:"gemini",name:"Gemini",displayName:"Gemini",color:"#f59e0b",gradient:"from-amber-500 to-orange-600",chartColor:"#f59e0b",logo:"✨",isActive:!0,hasSearchData:!0,hasCTRData:!1,hasClicksData:!1,description:"Google's multimodal AI platform"},{id:"copilot",name:"Copilot",displayName:"MS Copilot",color:"#6366f1",gradient:"from-indigo-500 to-purple-600",chartColor:"#6366f1",logo:"\uD83D\uDE80",isActive:!1,hasSearchData:!0,hasCTRData:!1,hasClicksData:!1,description:"Microsoft's AI assistant"}],T=()=>D.filter(e=>e.isActive);function I(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:u("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...s})}function P(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:u("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function G(e){let{className:t,...s}=e;return(0,a.jsx)("h4",{"data-slot":"card-title",className:u("leading-none",t),...s})}function H(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:u("px-6 [&:last-child]:pb-6",t),...s})}var R=s(43666),M=s(54587),F=s.n(M),L=s(95313);let E=()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(L.A,{className:"h-4 w-4 animate-spin"})}),z=e=>{let{message:t}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("p",{className:"text-red-500",children:t})})};function W(e){let{platform:t,loading:s,selectedDateRange:r}=e;return(0,a.jsxs)(I,{className:"relative overflow-hidden bg-white border-0 shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(t.gradient," opacity-5")}),(0,a.jsx)(H,{className:"p-4 sm:p-6 relative",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:t.logo&&(0,a.jsx)(F(),{src:t.logo,alt:t.displayName,width:32,height:32,className:"h-8 w-8"})}),(0,a.jsx)("h3",{className:"font-medium text-gray-900 text-base sm:text-lg",children:t.displayName})]})}),s?(0,a.jsx)(E,{}):(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:t.value.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"today"===r?"searches (1 day)":"7d"===r?"searches (7 days)":"30d"===r?"searches (30 days)":"searches (90 days)"})]})]})})]})}function K(e){let{selectedDateRange:t,graphData:s,summaryData:i,loading:l,error:n}=e,c=T(),[o,d]=(0,r.useState)(c.map(e=>e.id)),m=(0,r.useCallback)(e=>{switch(e){case"ChatGPT":return R.UF;case"Claude":return R.ne;case"Perplexity":return R.by;case"Gemini":return R.Sv;default:return}},[]),x=(0,r.useCallback)(e=>{switch(e){case"ChatGPT":return"from-green-500 to-emerald-600";case"Claude":return"from-blue-500 to-cyan-600";case"Perplexity":return"from-purple-500 to-pink-600";case"Gemini":return"from-yellow-500 to-orange-600";default:return""}},[]),u=(0,r.useMemo)(()=>["total_chatgpt","total_claude","google_extended","total_perplexity"],[]),h=(0,r.useCallback)(e=>{switch(e){case"total_chatgpt":return"ChatGPT";case"total_claude":return"Claude";case"google_extended":return"Gemini";case"total_perplexity":return"Perplexity";default:return e}},[]),p=(0,r.useCallback)(e=>{switch(e){case"total_chatgpt":return i.total_chatgpt;case"total_claude":return i.total_claude;case"google_extended":default:return 0;case"total_perplexity":return i.total_perplexity}},[i]),f=(0,r.useMemo)(()=>Object.keys(i).filter(e=>u.includes(e)).map(e=>({id:e,displayName:h(e),value:p(e),logo:m(h(e)),gradient:x(h(e))})),[i,u,m,x,h,p]),y=(0,r.useCallback)(e=>{switch(e){case"7d":return"Daily trends over 7 days";case"30d":return"Weekly trends over 30 days";case"90d":return"Monthly trends over 90 days";default:return"Hourly trends for today"}},[]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(I,{className:"bg-white border-0 shadow-sm",children:[(0,a.jsx)(P,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full",children:[(0,a.jsxs)("div",{className:"w-1/2",children:[(0,a.jsx)(G,{className:"text-lg",children:"AI Platform Search Trends"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:y(t)})]}),(0,a.jsx)("div",{className:"flex items-center justify-end flex-wrap w-1/2",children:c.map(e=>(0,a.jsx)(g,{variant:o.includes(e.id)?"default":"outline",size:"sm",onClick:()=>{d(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id])},className:"text-xs m-1",children:e.displayName},e.id))})]})}),(0,a.jsx)(H,{children:(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(N.u,{width:"100%",height:"100%",children:l?(0,a.jsx)(E,{}):n?(0,a.jsx)(z,{message:"Something went wrong"}):s.length>0?(0,a.jsxs)(w.Q,{data:s,children:[(0,a.jsx)("defs",{children:c.map(e=>(0,a.jsxs)("linearGradient",{id:e.id,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"5%",stopColor:e.chartColor,stopOpacity:.3}),(0,a.jsx)("stop",{offset:"95%",stopColor:e.chartColor,stopOpacity:0})]},e.id))}),(0,a.jsx)(k.d,{strokeDasharray:"3 3",className:"stroke-gray-100"}),(0,a.jsx)(_.W,{dataKey:"date",className:"text-gray-600"}),(0,a.jsx)(A.h,{className:"text-gray-600"}),(0,a.jsx)(C.m,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"}}),c.map(e=>o.includes(e.id)&&(0,a.jsx)(S.G,{type:"monotone",dataKey:e.id,stroke:e.chartColor,strokeWidth:2,fillOpacity:1,fill:"url(#".concat(e.id,")"),name:e.displayName},e.id))]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No data available"})})})})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 p-2 sm:p-4",children:!n&&f.map((e,s)=>(0,a.jsx)(W,{platform:e,loading:!!l,selectedDateRange:t},s))})]})}var O=s(48707),B=s(48963);function U(e){var t;let{selectedRange:s,onRangeChange:i,value:l,onChange:n}=e,[c,o]=(0,r.useState)(!1),d=(0,r.useRef)(null),m=s||l||"today",x=i||n||(()=>{}),u=[{value:"today",label:"Today"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}],h=(null===(t=u.find(e=>e.value===m))||void 0===t?void 0:t.label)||"Select range";(0,r.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&o(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let g=e=>{x(e),o(!1)};return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("div",{className:"relative",ref:d,children:[(0,a.jsx)("button",{onClick:()=>o(!c),className:"w-40 px-3 py-2 text-left bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-900",children:h}),(0,a.jsx)(B.A,{className:"h-4 w-4 text-gray-400 transition-transform ".concat(c?"rotate-180":"")})]})}),c&&(0,a.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg",children:(0,a.jsx)("div",{className:"py-1",children:u.map(e=>(0,a.jsx)("button",{onClick:()=>g(e.value),className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition-colors ".concat(m===e.value?"bg-blue-50 text-blue-900 font-medium":"text-gray-900"),children:e.label},e.value))})})]})]})}var Y=s(65488);let J=()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(L.A,{className:"h-4 w-4 animate-spin"})});function q(e){let{title:t,value:s,subValue:r,icon:i,gradient:l,loading:n}=e;return(0,a.jsxs)(I,{className:"relative overflow-hidden hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-gray-50",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(l," opacity-5")}),(0,a.jsx)(H,{className:"p-6 relative",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br ".concat(l," text-white"),children:i}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:t})]}),n?(0,a.jsx)(J,{}):(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:s}),r&&(0,a.jsx)("div",{className:"text-sm text-gray-500",children:r})]})]})})})]})}function Q(e){let{selectedDateRange:t,summaryData:s,loading:r,error:i}=e,c=s.total_chatgpt+s.total_claude+s.total_perplexity+s.google_extended||0,o=s.total_count||0,d=s.oai_searchbot+s.chatgpt,m=s.click_gpt&&d>0&&s.click_gpt/d*100||0,x=[{title:"AI User Searches",value:c?String(c):"0",icon:(0,a.jsx)(l.A,{className:"h-4 w-4"}),gradient:"from-blue-500 to-indigo-600"},{title:"All Webpages Referenced",value:o?String(o):"0",icon:(0,a.jsx)(n.A,{className:"h-4 w-4"}),gradient:"from-purple-500 to-pink-600"},{title:"AI Search CTR (ChatGPT only)",value:m?m.toFixed(2)+"%":"0%",icon:(0,a.jsx)(Y.A,{className:"h-4 w-4"}),gradient:"from-orange-500 to-red-600"}];return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:!i&&x.map((e,t)=>(0,a.jsx)(q,{...e,loading:r},t))})}var V=s(39861),X=s(9526);let Z=(0,d.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function $(e){let{className:t,variant:s,asChild:r=!1,...i}=e,l=r?o.DX:"span";return(0,a.jsx)(l,{"data-slot":"badge",className:u(Z({variant:s}),t),...i})}let ee=e=>{if("today"===e){let e=new Date;return{start_time:new Date(e.setHours(0,0,0,0)).getTime(),end_time:new Date(e.setHours(new Date(Date.now()).getHours(),0,0,0)).getTime()}}if("7d"===e){let e=new Date;return e.setDate(e.getDate()-6),{start_time:new Date(e.setHours(0,0,0,0)).getTime(),end_time:new Date(new Date().setHours(23,59,59,999)).getTime()}}if("30d"===e){let e=new Date;return e.setDate(e.getDate()-29),{start_time:new Date(e.setHours(0,0,0,0)).getTime(),end_time:new Date(new Date().setHours(23,59,59,999)).getTime()}}if("90d"===e){let e=new Date;return e.setDate(e.getDate()-89),{start_time:new Date(e.setHours(0,0,0,0)).getTime(),end_time:new Date(new Date().setHours(23,59,59,999)).getTime()}}},et=e=>"today"===e?"hour":"7d"===e||"30d"===e?"day":"90d"===e?"month":"day",es={other:0,claude_web:0,total_claude:0,click_other:0,perplexity_bot:0,count:0,bingbot:0,click_total:0,googlebot:0,total_chatgpt:0,click_gpt:0,google_extended:0,total_google:0,click_claude:0,click_perplexity:0,claude_bot:0,total_perplexity:0,perplexity_user:0,oai_searchbot:0,chatgpt:0,click_bing:0,claude_anthropic_ai:0,gptbot:0,total_ai:0,click_ai:0};function ea(e){let t=new Date(e),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],a=t.getDate();return"".concat(s," ").concat(a)}function er(e,t,s,a){if("hour"===t){let t=function(e){let t=new Map;e.forEach(e=>{t.set(e.range,e)});let s=e.map(e=>{let t=new Date(e.range+":00Z");return e.start_timestamp=t.getTime(),e.name=function(e){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(a,"T").concat(r)}(t),{...es,...e}});return s.sort((e,t)=>Number(e.start_timestamp)-Number(t.start_timestamp)),s}(e.graph_data),s={};0!==t.length&&Object.keys(t[0]).forEach(e=>{"name"!==e&&"startTimestamp"!==e&&"endTimestamp"!==e&&(s[e]=t.reduce((t,s)=>t+Number(s[e]),0))}),e={graph_data:t,summary:s,total_count:e.total_count}}else if("day"===t){let t=function(e,t,s){let a=(function(e,t){let s=[],a=new Date(e),r=new Date(t),i=new Date(a);for(;i<=r;){let e=i.getFullYear(),t=String(i.getMonth()+1).padStart(2,"0"),a=String(i.getDate()).padStart(2,"0");s.push("".concat(e,"-").concat(t,"-").concat(a)),i.setDate(i.getDate()+1)}return s})(t,s).map(e=>(function(e){let t=new Date(e);return{name:ea(e),start_timestamp:t.getTime(),...es}})(e)),r=e.map(e=>{let t=new Date(e.range);return e.start_timestamp=t.getTime(),e.name=ea(t.getTime().toString()),{...es,...e}}),i=a.map(e=>{let t=r.find(t=>t.start_timestamp===e.start_timestamp);return t?{...e,...t}:e});return i.sort((e,t)=>Number(e.start_timestamp)-Number(t.start_timestamp)),i}(e.graph_data,s,a),r={};0!==t.length&&Object.keys(t[0]).forEach(e=>{"name"!==e&&"startTimestamp"!==e&&"endTimestamp"!==e&&(r[e]=t.reduce((t,s)=>t+Number(s[e]),0))}),e={graph_data:t,summary:r,total_count:e.total_count}}else if("month"===t){let t=function(e,t,s){let a=new Date(t),r=new Date(s),i=new Map;e.forEach(e=>{i.set(e.range,e)});let l=[],n=new Date(a.getFullYear(),a.getMonth(),1);for(;n<=r;){let e=function(e){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0");return"".concat(t,"-").concat(s)}(n),t=i.get(e),s={name:"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]," ").concat(n.getFullYear()),start_timestamp:new Date(e).getTime(),...es};t&&Object.keys(s).forEach(e=>{"name"!==e&&"start_timestamp"!==e&&void 0!==t[e]&&(s[e]=t[e])}),l.push(s),n.setMonth(n.getMonth()+1)}return l}(e.graph_data,s,a),r={};0!==t.length&&Object.keys(t[0]).forEach(e=>{"name"!==e&&"startTimestamp"!==e&&"endTimestamp"!==e&&(r[e]=t.reduce((t,s)=>t+Number(s[e]),0))}),e={graph_data:t,summary:r,total_count:e.total_count}}return e}let ei={h3WRAEWUo7zYW2tkS4oDhJ:{"http://localhost:8072":"https://spyne.ai"}},el=(e,t)=>{if(ei[e])for(let[s,a]of Object.entries(ei[e]))t=t.replace(s,a);let s=new URL(t),a=decodeURIComponent(s.pathname);return"".concat(s.protocol,"//").concat(s.host).concat(a)},en=()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(L.A,{className:"h-4 w-4 animate-spin"})}),ec=e=>{let{message:t}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("p",{className:"text-red-500",children:t})})};function eo(e){let{domain:t,value:s,valueLabel:r,badgeClass:i}=e;return(0,a.jsxs)("div",{className:"flex items-start justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer group transition-colors",children:[(0,a.jsx)("div",{className:"flex-1 min-w-0 space-y-1",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",onClick:()=>{window.open(t,"_blank")},children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 text-ellipsis overflow-hidden whitespace-nowrap",children:t}),(0,a.jsx)(V.A,{className:"h-3 w-3 text-gray-400"})]})}),(0,a.jsx)("div",{className:"flex items-center space-x-2 ml-3",children:(0,a.jsxs)($,{variant:"secondary",className:i,children:[s.toLocaleString()," ",r]})})]})}function ed(e){let{onNavigate:t,selectedDateRange:s,loading:i,error:l}=e,[n,c]=(0,r.useState)([]),[o,d]=(0,r.useState)([]),m=(0,r.useCallback)(async()=>{let e=ee(s);if(!e)return;let{start_time:t,end_time:a}=e,{data:r,error:i}=await j.A.doGet({path:"/orgs/".concat(b.A.current().id,"/trafficmon/url?start_time=").concat(t,"&end_time=").concat(a,"&range_type=").concat(et(s),"&limit=3&sort_field=total_ai")});!i&&d(r.urls.filter(e=>e.total_ai>0).map(e=>({domain:el(b.A.current().id,e.url),citations:e.total_ai})))},[s]),x=(0,r.useCallback)(async()=>{let e=ee(s);if(!e)return;let{start_time:t,end_time:a}=e,{data:r,error:i}=await j.A.doGet({path:"/orgs/".concat(b.A.current().id,"/trafficmon/url?start_time=").concat(t,"&end_time=").concat(a,"&range_type=").concat(et(s),"&limit=3&sort_field=click_ai")});!i&&c(r.urls.filter(e=>e.click_ai>0).map(e=>({domain:el(b.A.current().id,e.url),clicks:e.click_ai})))},[s]);(0,r.useEffect)(()=>{m(),x()},[m,x]);let u=(0,r.useMemo)(()=>{switch(s){case"today":return"today";case"7d":return"last 7 days";case"30d":return"last 30 days";case"90d":return"last 90 days";default:return"selected period"}},[s]);return(0,a.jsxs)(I,{className:"bg-white border-0 shadow-sm",children:[(0,a.jsxs)(P,{className:"pb-4",children:[(0,a.jsx)(G,{className:"text-lg",children:"Quick Insights"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Top performing content for ",u]})]}),(0,a.jsxs)(H,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Top Clicked Content"})]}),(0,a.jsx)("div",{className:"space-y-2",children:i?(0,a.jsx)(en,{}):l?(0,a.jsx)(ec,{message:"Something went wrong"}):n.length>0?n.map((e,t)=>(0,a.jsx)(eo,{domain:e.domain,value:e.clicks,valueLabel:"clicks",badgeClass:"bg-blue-100 text-blue-800 text-xs"},t)):(0,a.jsx)("p",{className:"text-gray-500 text-center",children:"No data available"})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(X.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Top Cited Content"})]}),(0,a.jsx)("div",{className:"space-y-2",children:i?(0,a.jsx)(en,{}):l?(0,a.jsx)(ec,{message:"Something went wrong"}):o.length>0?o.map((e,t)=>(0,a.jsx)(eo,{domain:e.domain,value:e.citations,valueLabel:"refs",badgeClass:"bg-green-100 text-green-800 text-xs"},t)):(0,a.jsx)("p",{className:"text-gray-500 text-center",children:"No data available"})})]}),(0,a.jsx)("div",{className:"pt-2 border-t border-gray-100",children:(0,a.jsx)("button",{onClick:()=>t("content"),className:"w-full text-center text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"View All Content Analytics →"})})]})]})}let em={bingbot:0,chatgpt:0,claude_anthropic_ai:0,claude_bot:0,claude_web:0,click_bing:0,click_claude:0,click_gpt:0,click_other:0,click_perplexity:0,click_total:0,count:0,google_extended:0,googlebot:0,gptbot:0,oai_searchbot:0,other:0,perplexity_bot:0,perplexity_user:0,start_timestamp:0,total_chatgpt:0,total_claude:0,total_google:0,total_perplexity:0,total_count:0,total_ai:0};function ex(e){let{onNavigate:t}=e,[s,i]=(0,r.useState)(!0),[l,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)("today"),[d,m]=(0,r.useState)([]),[x,u]=(0,r.useState)(em),h=(0,r.useCallback)(async()=>{i(!0);let e=ee(c);if(!e)return console.error("Invalid date range:",c),null;let{start_time:t,end_time:s}=e,a=et(c),r=await j.A.doGet({path:"/orgs/".concat(b.A.current().id,"/trafficmon/logstats?start_time=").concat(t,"&end_time=").concat(s,"&range_type=").concat(a,"&no_transform=true")});if(r.error){n(!0),i(!1);return}let l=r.data;l=er(l,a,t,s);let o=e=>{let t=new Date(e);return"hour"===a?t.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}):"day"===a?t.toLocaleDateString(navigator.language,{month:"short",day:"numeric"}):"month"===a?t.toLocaleDateString(navigator.language,{month:"short"}):t.toLocaleDateString(navigator.language,{month:"short",day:"numeric",year:"numeric"})};m(l.graph_data.map(e=>({date:o(e.start_timestamp),chatgpt:e.total_chatgpt,perplexity:e.total_perplexity,claude:e.total_claude,gemini:e.google_extended})));let d=l.summary;d.total_count=l.total_count,u(d),i(!1)},[c]);return(0,r.useEffect)(()=>{h()},[h]),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"AI Traffic Analytics"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor AI search platform engagement"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(U,{selectedRange:c,onRangeChange:o}),(0,a.jsx)("button",{className:"text-gray-600 hover:text-gray-900 p-2 rounded-md cursor-pointer",onClick:()=>y.A.show("Settings",(0,a.jsx)(f.A,{})),children:(0,a.jsx)(v.A,{})})]})]}),(0,a.jsx)(Q,{selectedDateRange:c,summaryData:x,loading:s,error:l}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(K,{selectedDateRange:c,graphData:d,summaryData:x,loading:s,error:l})}),(0,a.jsx)("div",{children:(0,a.jsx)(ed,{onNavigate:t,selectedDateRange:c,loading:s,error:l})})]})]})}var eu=s(15066),eh=s(52442),eg=s(98673),ep=s(7972),ef=s(49325),ey=s(14631),ej=s(92889);let eb=()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(L.A,{className:"h-4 w-4 animate-spin"})}),ev=e=>{let{message:t}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-center h-full gap-2",children:[(0,a.jsx)(eu.A,{className:"h-4 w-4"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t})]})},eN=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});function ew(e){let{icon:t,title:s,value:r,subtitle:i,loading:l}=e;return(0,a.jsx)(I,{className:"bg-white border-0 shadow-sm",children:(0,a.jsx)(H,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-gray-100 flex items-center justify-center",children:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s}),l?(0,a.jsx)(eb,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r}),i&&(0,a.jsx)("p",{className:"text-xs text-gray-500",children:i})]})]})]})})})}function ek(e){let{loading:t,error:s,data:r,platformColors:i}=e;return(0,a.jsxs)(I,{className:"bg-white border-0 shadow-sm",children:[(0,a.jsxs)(P,{children:[(0,a.jsxs)(G,{className:"text-lg flex items-center space-x-2",children:[(0,a.jsx)(X.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"24-Hour Traffic Pattern by AI Platform"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Hourly traffic distribution showing when each AI platform is most active"})]}),(0,a.jsx)(H,{children:(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(N.u,{width:"100%",height:"100%",children:t?(0,a.jsx)(eb,{}):s?(0,a.jsx)(ev,{message:"Something went wrong"}):(0,a.jsxs)(ef.b,{data:r,children:[(0,a.jsx)(k.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,a.jsx)(_.W,{dataKey:"hour",stroke:"#6b7280",fontSize:12,interval:2}),(0,a.jsx)(A.h,{stroke:"#6b7280",fontSize:12}),(0,a.jsx)(C.m,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},labelFormatter:e=>"Time: ".concat(e)}),(0,a.jsx)(ey.s,{}),(0,a.jsx)(ej.N,{type:"monotone",dataKey:"chatgpt",stroke:i.chatgpt,strokeWidth:2,name:"ChatGPT",dot:{fill:i.chatgpt,strokeWidth:2,r:3},activeDot:{r:5}}),(0,a.jsx)(ej.N,{type:"monotone",dataKey:"perplexity",stroke:i.perplexity,strokeWidth:2,name:"Perplexity",dot:{fill:i.perplexity,strokeWidth:2,r:3},activeDot:{r:5}}),(0,a.jsx)(ej.N,{type:"monotone",dataKey:"claude",stroke:i.claude,strokeWidth:2,name:"Claude",dot:{fill:i.claude,strokeWidth:2,r:3},activeDot:{r:5}}),(0,a.jsx)(ej.N,{type:"monotone",dataKey:"gemini",stroke:i.gemini,strokeWidth:2,name:"Gemini",dot:{fill:i.gemini,strokeWidth:2,r:3},activeDot:{r:5}})]})})})})]})}function e_(){let[e,t]=(0,r.useState)({loading:!1,error:!1,graphData:[],currentHourHits:0,peakHourToday:{hour:"--:--",hits:0},mostActivePlatform:{platform:"",hits:0},pagesAccessed:0}),s=(0,r.useCallback)(async()=>{var e,t,s,a;let r=new Date,i=r.getHours(),l=new Date(r);l.setHours(i,59,59,999);let n=new Date(r);n.setDate(n.getDate()-1),n.setHours(i+1,0,0,0),23===i&&(n.setDate(n.getDate()+1),n.setHours(0,0,0,0));let c=n.getTime(),o=l.getTime(),d=await j.A.doGet({path:"/orgs/".concat(b.A.current().id,"/trafficmon/logstats?start_time=").concat(c,"&end_time=").concat(o,"&range_type=").concat("hour","&no_transform=true")});if(d.error)return{error:!0};let m=d.data,x=(m=er(m,"hour",c,o)).graph_data.map(e=>({chatgpt:Number(e.total_chatgpt||0),claude:Number(e.total_claude||0),gemini:Number(e.google_extended||0),hour:eN(e.start_timestamp),hourNum:Number(eN(e.start_timestamp).split(":")[0]),perplexity:Number(e.total_perplexity||0),total:Number(e.total_chatgpt+e.total_claude+e.google_extended+e.total_perplexity)})),u=x[x.length-1],h=u.chatgpt+u.claude+u.gemini+u.perplexity,g=x.reduce((e,t)=>t.total>e.total?t:e,x[0]||{hour:"--:--",hourNum:0,chatgpt:0,claude:0,gemini:0,others:0,perplexity:0,total:0}),p={Chatgpt:Number((null==m?void 0:null===(e=m.summary)||void 0===e?void 0:e.total_chatgpt)||0),Claude:Number((null==m?void 0:null===(t=m.summary)||void 0===t?void 0:t.total_claude)||0),Google:Number((null==m?void 0:null===(s=m.summary)||void 0===s?void 0:s.google_extended)||0),Perplexity:Number((null==m?void 0:null===(a=m.summary)||void 0===a?void 0:a.total_perplexity)||0)},f="",y=0;for(let[e,t]of Object.entries(p))t>y&&(f=e,y=t);return{graphData:x,currentHourHits:h,peakHourToday:{hour:g.hour,hits:g.total},pagesAccessed:m.total_count,mostActivePlatform:{platform:f,hits:y}}},[]),i=(0,r.useMemo)(()=>({chatgpt:"#10B981",perplexity:"#3B82F6",claude:"#8B5CF6",gemini:"#F59E0B",others:"#6B7280"}),[]),l=(0,r.useCallback)(e=>e.toString().padStart(2,"0")+":00",[]),n=(0,r.useCallback)(async()=>{let e=await s();if(null==e?void 0:e.error){t(e=>({...e,loading:!1,error:!0}));return}t(t=>({...t,loading:!1,error:!1,graphData:(null==e?void 0:e.graphData)||[],currentHourHits:(null==e?void 0:e.currentHourHits)||0,peakHourToday:(null==e?void 0:e.peakHourToday)||{hour:"--:--",hits:0},mostActivePlatform:(null==e?void 0:e.mostActivePlatform)||{platform:"",hits:0},pagesAccessed:(null==e?void 0:e.pagesAccessed)||0}))},[s]);return(0,r.useEffect)(()=>{t(e=>({...e,loading:!0,error:!1})),n()},[n]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Real-time Analytics"}),(0,a.jsx)("button",{className:"px-2 py-1 rounded-md text-lg cursor-pointer transition-all duration-300",onClick:()=>{t(e=>({...e,loading:!0,error:!1})),n()},children:(0,a.jsx)(ep.jTZ,{className:"h-6 w-6"})})]}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"AI platform traffic patterns and current activity"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Live • Updated ",l(Number(new Date().getHours()))]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(ew,{icon:(0,a.jsx)(c.A,{className:"h-4 w-4 text-blue-600"}),title:"Current Hour AI Hits",value:e.currentHourHits,loading:e.loading}),(0,a.jsx)(ew,{icon:(0,a.jsx)(X.A,{className:"h-4 w-4 text-green-600"}),title:"Most Active AI Platform",value:e.mostActivePlatform.platform,subtitle:"".concat(e.mostActivePlatform.hits," hits"),loading:e.loading}),(0,a.jsx)(ew,{icon:(0,a.jsx)(eh.A,{className:"h-4 w-4 text-purple-600"}),title:"Pages Accessed",value:e.pagesAccessed,loading:e.loading}),(0,a.jsx)(ew,{icon:(0,a.jsx)(eg.A,{className:"h-4 w-4 text-amber-600"}),title:"Peak AI Hour",value:e.peakHourToday.hour,subtitle:"".concat(e.peakHourToday.hits," total hits"),loading:e.loading})]}),(0,a.jsx)(ek,{loading:e.loading,error:e.error,data:e.graphData,platformColors:i})]})}var eA=s(53123),eC=s(27182),eS=s(32003),eD=s(56588),eT=s(99622),eI=s(14920),eP=s(89309);function eG(e){let{selectedDateRange:t="30d",onDateRangeChange:s}=e,[i,c]=(0,r.useState)(t),o=s?t:i,d=e=>{switch(e.toLowerCase()){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},m=e=>{switch(e.toLowerCase()){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"AI Visibility Insights"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Actionable insights to improve your AI platform visibility for"," ",(e=>{switch(e){case"today":return"today";case"7d":return"last 7 days";case"30d":return"last 30 days";case"90d":return"last 90 days";default:return"selected period"}})(o)]})]}),(0,a.jsx)(U,{selectedRange:o,onRangeChange:s||c})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eA.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Content That's Winning"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Your top-performing content and why it's successful with AI platforms"})]}),(0,a.jsx)("div",{className:"p-6 space-y-6",children:[{title:"Comprehensive Guide to AI Trends 2024",domain:"example.com",metrics:{citations:1450,clicks:324,ctr:8.2},winningFactors:["Comprehensive coverage of trending AI topics","Well-structured with clear headings and subheadings","Includes recent examples and case studies","Strong authority signals and expert quotes"],platforms:["ChatGPT","Perplexity","Claude"]},{title:"Machine Learning Implementation Guide",domain:"techblog.example.com",metrics:{citations:1180,clicks:287,ctr:7.8},winningFactors:["Step-by-step implementation instructions","Code examples and practical applications","Addresses common implementation challenges","Regular updates with latest best practices"],platforms:["ChatGPT","Claude","Gemini"]}].map((e,t)=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-3",children:[(0,a.jsx)("span",{children:e.domain}),(0,a.jsx)(V.A,{className:"h-3 w-3"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(eC.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.metrics.citations," citations"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(eS.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.metrics.clicks," clicks"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(X.A,{className:"h-4 w-4 text-purple-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.metrics.ctr,"% CTR"]})]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:e.platforms.map((e,t)=>(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200",children:e},t))})]})}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[(0,a.jsxs)("h4",{className:"font-medium text-green-900 mb-2 flex items-center",children:[(0,a.jsx)(eD.A,{className:"h-4 w-4 mr-1"}),"Why It's Winning"]}),(0,a.jsx)("ul",{className:"space-y-1 text-sm text-green-800",children:e.winningFactors.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-green-600 mr-2",children:"•"}),e]},t))})]})]},t))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eT.A,{className:"h-5 w-5 text-orange-600"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Areas Needing Attention"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Topics where competitors are gaining visibility and opportunities for improvement"})]}),(0,a.jsx)("div",{className:"p-6 space-y-6",children:[{topic:"AI Ethics and Governance",competitorPresence:"High",topCompetitors:["competitor1.com","industry-leader.org"],gapAnalysis:"Your content ranks lower due to less frequent updates and lack of recent regulatory coverage",actionItems:["Create comprehensive AI ethics framework content","Cover recent AI governance developments","Include expert interviews and case studies"],priority:"High",estimatedImpact:"25% increase in AI ethics related queries"},{topic:"No-Code AI Tools Comparison",competitorPresence:"Medium",topCompetitors:["tools-review.com","ai-comparison.net"],gapAnalysis:"Limited comparison content and lack of hands-on testing results",actionItems:["Create detailed tool comparison matrices","Add user experience testing results","Include pricing and feature breakdowns"],priority:"Medium",estimatedImpact:"15% increase in tool-related queries"}].map((e,t)=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.topic}),(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ".concat(d(e.priority)),children:[e.priority," Priority"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.gapAnalysis}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-3 text-sm",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Competitor Presence:"})," ",e.competitorPresence]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Impact:"})," ",e.estimatedImpact]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Top Competitors:"}),(0,a.jsx)("div",{className:"flex space-x-2",children:e.topCompetitors.map((e,t)=>(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800 border border-gray-300",children:e},t))})]})]})}),(0,a.jsxs)("div",{className:"bg-orange-50 rounded-lg p-3 border border-orange-200",children:[(0,a.jsxs)("h4",{className:"font-medium text-orange-900 mb-2 flex items-center",children:[(0,a.jsx)(eI.A,{className:"h-4 w-4 mr-1"}),"Recommended Actions"]}),(0,a.jsx)("ul",{className:"space-y-1 text-sm text-orange-800",children:e.actionItems.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(eP.A,{className:"h-3 w-3 mt-0.5 mr-2 text-orange-600 flex-shrink-0"}),e]},t))})]})]},t))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Content Gap Opportunities"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Untapped content opportunities based on AI platform preferences and search patterns"})]}),(0,a.jsx)("div",{className:"p-6 space-y-6",children:[{gapType:"Trending Topics",description:"AI Safety and Alignment",opportunity:"High search volume, low competition",suggestedContent:["AI Safety Frameworks for Enterprise","Alignment Strategies in Large Language Models","Risk Assessment for AI Implementation"],estimatedTraffic:"500-800 monthly citations",difficulty:"Medium",timeToRank:"2-3 months"},{gapType:"Format Gap",description:"Interactive AI Tutorials",opportunity:"AI platforms prefer interactive, step-by-step content",suggestedContent:["Interactive Prompt Engineering Tutorial","Step-by-step AI Model Selection Guide","Hands-on RAG Implementation Walkthrough"],estimatedTraffic:"300-500 monthly citations",difficulty:"High",timeToRank:"3-4 months"},{gapType:"Audience Gap",description:"Executive-Level AI Content",opportunity:"Underserved audience with high engagement potential",suggestedContent:["AI ROI Calculator for Executives","Board-Level AI Strategy Framework","Executive Guide to AI Risk Management"],estimatedTraffic:"200-400 monthly citations",difficulty:"Low",timeToRank:"1-2 months"}].map((e,t)=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.description}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200",children:e.gapType})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.opportunity}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Estimated Traffic:"}),(0,a.jsx)("p",{className:"text-gray-600",children:e.estimatedTraffic})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Time to Rank:"}),(0,a.jsx)("p",{className:"text-gray-600",children:e.timeToRank})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Difficulty:"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ".concat(m(e.difficulty)),children:e.difficulty})]})]})}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,a.jsxs)("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mr-1"}),"Suggested Content"]}),(0,a.jsx)("ul",{className:"space-y-1 text-sm text-blue-800",children:e.suggestedContent.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-blue-600 mr-2",children:"•"}),e]},t))})]})]},t))})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(eD.A,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Next Steps Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[(0,a.jsx)("h4",{className:"font-medium text-green-700 mb-1",children:"Immediate Actions"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Optimize existing high-performing content"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[(0,a.jsx)("h4",{className:"font-medium text-orange-700 mb-1",children:"Short-term Goals"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Address competitor advantages in key topics"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-700 mb-1",children:"Long-term Strategy"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Fill content gaps for sustained growth"})]})]})]})]})})})]})}let eH=[{key:"ChatGPT",searchKey:"total_chatgpt",clickKey:"click_gpt",logo:R.UF,color:"#00C951",gradient:"from-green-500 to-emerald-600"},{key:"Claude",searchKey:"total_claude",clickKey:"click_claude",logo:R.ne,color:"#AD46FF",gradient:"from-purple-500 to-violet-600"},{key:"GoogleBard",searchKey:"google_extended",clickKey:"click_googlebard",logo:R.Sv,color:"#FF6900",gradient:"from-orange-500 to-amber-600"},{key:"Perplexity",searchKey:"total_perplexity",clickKey:"click_perplexity",logo:R.by,color:"#2B7FFF",gradient:"from-blue-500 to-cyan-600"}],eR=()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(L.A,{className:"h-4 w-4 animate-spin"})}),eM=e=>{let{message:t}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 h-full",children:[(0,a.jsx)(eu.A,{className:"h-4 w-4"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:t})]})};function eF(e){let{data:t}=e,s=function(e){if(e.includes("green"))return{bg:"bg-green-500",lightBg:"bg-green-100",text:"text-green-700"};if(e.includes("blue")||e.includes("cyan"))return{bg:"bg-blue-500",lightBg:"bg-blue-100",text:"text-blue-700"};if(e.includes("purple")||e.includes("violet"))return{bg:"bg-purple-500",lightBg:"bg-purple-100",text:"text-purple-700"};if(e.includes("amber")||e.includes("orange"))return{bg:"bg-orange-500",lightBg:"bg-orange-100",text:"text-orange-700"};if(e.includes("indigo"))return{bg:"bg-indigo-500",lightBg:"bg-indigo-100",text:"text-indigo-700"};return{bg:"bg-gray-500",lightBg:"bg-gray-100",text:"text-gray-700"}}(t.gradient),r=t.clicks&&t.searches?t.clicks/t.searches*100>100?100:t.clicks/t.searches*100||0:0;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:(0,a.jsx)(F(),{src:t.logo,alt:t.platform,width:32,height:32,className:"h-8 w-8"})}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:t.platform})})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[t.clickThroughRate,"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"click through rate"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.A,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Searches"})]}),(0,a.jsx)("span",{className:"font-medium",children:t.searches})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"h-3 rounded-full ".concat(s.lightBg),children:(0,a.jsx)("div",{className:"h-3 rounded-full ".concat(s.bg),style:{width:"".concat(100,"%")}})})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Clicks"})]}),(0,a.jsx)("span",{className:"font-medium ".concat(t.hasClicksData?"":"text-gray-400"),children:t.clicks?t.clicks:0})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"h-3 rounded-full bg-gray-100",children:r>0?(0,a.jsx)("div",{className:"h-3 rounded-full ".concat(s.bg),style:{width:"".concat(r,"%")}}):(0,a.jsx)("div",{className:"h-3 rounded-full bg-gray-300 opacity-50 relative",children:(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center"})})})})]})]})}let eL=e=>{switch(e){case"today":return"today";case"7d":return"last 7 days";case"30d":return"last 30 days";case"90d":return"last 90 days";default:return"selected period"}};function eE(e){let{selectedDateRange:t}=e,[s,i]=(0,r.useState)(!1),[l,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(null),d=(0,r.useCallback)(async e=>{i(!0),n(!1);let s=ee(t);if(!s){n(!0),i(!1);return}let{start_time:a,end_time:r}=s,l=await j.A.doGet({path:"/orgs/".concat(b.A.current().id,"/trafficmon/logstats?start_time=").concat(a,"&end_time=").concat(r,"&range_type=").concat(et(e),"&no_transform=true")});if(l.error){n(!0),i(!1);return}let c=l.data;o((c=er(c,et(e),a,r)).summary),i(!1)},[t]);(0,r.useEffect)(()=>{d(t)},[d,t]);let m=(0,r.useMemo)(()=>c?eH.map(e=>{let{key:t,searchKey:s,clickKey:a,logo:r,color:i,gradient:l}=e,n=c[s]||0,o=c[a]||0;return{platform:"GoogleBard"===t?"Gemini":t,logo:r,searches:n,clicks:o,clickThroughRate:n?Math.round(o/n*1e3)/10:0,color:i,gradient:l,hasClicksData:o>0}}):[],[c]);return(0,a.jsxs)(I,{className:"bg-white border-0 shadow-sm",children:[(0,a.jsxs)(P,{className:"pb-4",children:[(0,a.jsx)(G,{className:"text-lg",children:"Search to Click Funnels"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Track click through rates from AI platform searches for"," ",eL(t)]})]}),(0,a.jsx)(H,{className:"space-y-8",children:s?(0,a.jsx)(eR,{}):l?(0,a.jsx)(eM,{message:"Error loading data. Please try again later."}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:m.map(e=>(0,a.jsx)(eF,{data:e},e.platform))})})]})}var ez=s(98188),eW=s(16295),eK=s(96012),eO=s(37349),eB=s(70728);function eU(e){let{delayDuration:t=0,...s}=e;return(0,a.jsx)(eB.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...s})}let eY=()=>(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)(L.A,{className:"h-4 w-4 animate-spin"})}),eJ=e=>{let{message:t}=e;return(0,a.jsx)("p",{className:"text-red-500 text-center p-8",children:t})};function eq(e){let{item:t}=e;return(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("td",{className:"text-center py-3 px-2"}),(0,a.jsxs)("td",{className:"py-3 px-2 max-w-[20vw] flex items-center justify-between gap-3 w-full",children:[(0,a.jsx)("span",{className:"break-all",children:t.url}),(0,a.jsx)("div",{children:(0,a.jsx)(V.A,{className:"h-4 w-4 text-gray-500 cursor-pointer hover:text-gray-700",onClick:()=>{window.open(t.url,"_blank")}})})]}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)($,{variant:"secondary",className:"bg-green-100 text-green-800",children:t.chatgpt.toLocaleString()})}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)($,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:t.perplexity.toLocaleString()})}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)($,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:t.claude.toLocaleString()})}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)($,{variant:"secondary",className:"bg-amber-100 text-amber-800",children:t.gemini.toLocaleString()})}),(0,a.jsx)("td",{className:"text-center py-3 px-2",children:(0,a.jsx)("span",{className:"font-medium text-gray-900",children:t.total.toLocaleString()})})]})}function eQ(e){let{selectedDateRange:t}=e,[s,i]=(0,r.useState)(!0),[l,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)("total"),[d,m]=(0,r.useState)("desc"),[x,u]=(0,r.useState)([]),[h,p]=(0,r.useState)(1),[f,y]=(0,r.useState)(10),v=(0,r.useCallback)(e=>"chatgpt"===e?"total_chatgpt":"perplexity"===e?"total_perplexity":"claude"===e?"total_claude":"gemini"===e?"total_google":"others"===e?"other":"count",[]),N=(0,r.useCallback)(async()=>{i(!0);let e=ee(t);if(!e){n(!0),i(!1);return}let{start_time:s,end_time:a}=e,{data:r,error:l}=await j.A.doGet({path:"/orgs/".concat(b.A.current().id,"/trafficmon/url?start_time=").concat(s,"&end_time=").concat(a,"&range_type=").concat(et(t),"&limit=3000&sort_field=").concat(v(c))});if(l){n(!0),i(!1);return}u(r.urls.map(e=>({url:el(b.A.current().id,e.url),chatgpt:Number(e.total_chatgpt),perplexity:Number(e.total_perplexity),claude:Number(e.total_claude),gemini:Number(e.google_extended),total:Number(e.count)}))),i(!1)},[t,c,v]),w=x.slice((h-1)*f,h*f);(0,r.useEffect)(()=>{N()},[N]);let k=(0,r.useCallback)(e=>c!==e?(0,a.jsx)(eW.A,{className:"h-3 w-3 text-gray-400"}):"asc"===d?(0,a.jsx)(eK.A,{className:"h-3 w-3 text-blue-600"}):"desc"===d?(0,a.jsx)(eO.A,{className:"h-3 w-3 text-blue-600"}):(0,a.jsx)(eW.A,{className:"h-3 w-3 text-gray-400"}),[c,d]),_=(0,r.useCallback)(e=>{switch(e){case"today":return"today";case"7d":return"last 7 days";case"30d":return"last 30 days";case"90d":return"last 90 days";default:return"selected period"}},[]),A=(0,r.useCallback)(e=>{c===e?(m(e=>"asc"===e?"desc":"desc"===e?null:"asc"),"desc"===d&&(o("total"),m("desc"))):(o(e),m("desc"))},[c,d]);return(0,a.jsxs)(eU,{children:[(0,a.jsxs)(I,{className:"col-span-2",children:[(0,a.jsxs)(P,{children:[(0,a.jsx)(G,{children:"AI Content Preferences"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Which content AI platforms prefer based on traffic for"," ",_(t),". Click the eye icon for detailed insights."]})]}),(0,a.jsx)(H,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"".concat(s?"hidden":""),children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-600 w-8"}),(0,a.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-600",children:"Content"}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g,{variant:"ghost",size:"sm",onClick:()=>A("chatgpt"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["ChatGPT",k("chatgpt")]})}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g,{variant:"ghost",size:"sm",onClick:()=>A("perplexity"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["Perplexity",k("perplexity")]})}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g,{variant:"ghost",size:"sm",onClick:()=>A("claude"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["Claude",k("claude")]})}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g,{variant:"ghost",size:"sm",onClick:()=>A("gemini"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["Gemini",k("gemini")]})}),(0,a.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-600",children:(0,a.jsxs)(g,{variant:"ghost",size:"sm",onClick:()=>A("total"),className:"h-auto p-0 font-medium text-gray-600 hover:text-gray-900",children:["Total (AI + Humans)",k("total")]})})]})}),(0,a.jsx)("tbody",{children:s?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:10,className:"text-center p-8",children:(0,a.jsx)(eY,{})})}):l?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:10,className:"text-center p-8",children:(0,a.jsx)(eJ,{message:"Something went wrong"})})}):w.length>0?w.map((e,t)=>(0,a.jsx)(eq,{item:e},t)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:10,className:"text-center p-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No data available"})})})})]})})})]}),(0,a.jsx)(ez.A,{currentPage:h,setCurrentPage:p,totalItems:x.length,itemsPerPage:f,setItemsPerPage:y})]})}function eV(){let[e,t]=(0,r.useState)("overview"),[s,i]=(0,r.useState)("today"),l=e=>{t(e)};return(0,a.jsxs)("div",{children:[(0,a.jsx)(p,{currentPage:e,onPageChange:l}),(0,a.jsx)("main",{className:"w-full bg-[#fdfdfd] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(()=>{switch(e){case"overview":default:return(0,a.jsx)(ex,{onNavigate:l});case"funnels":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Search Funnels"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Track click through rates from AI platform searches"})]}),(0,a.jsx)(U,{value:s,onChange:i})]}),(0,a.jsx)(eE,{selectedDateRange:s})]});case"content":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Content Performance"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"How AI platforms interact with your content"})]}),(0,a.jsx)(U,{value:s,onChange:i})]}),(0,a.jsx)(eQ,{selectedDateRange:s})]});case"insights":return(0,a.jsx)(eG,{selectedDateRange:s,onDateRangeChange:i});case"realtime":return(0,a.jsx)(e_,{})}})()})]})}},91589:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(37876),r=s(14232),i=s(75683);let l={success:"bg-green-100 text-green-800 border-green-300",info:"bg-blue-100 text-blue-800 border-blue-300",error:"bg-red-100 text-red-800 border-red-300"},n=e=>{let{type:t,message:s,className:n="",onClose:c,autoCloseDelay:o=1e3}=e;return(0,r.useEffect)(()=>{if(c){let e=setTimeout(()=>{c()},o);return()=>clearTimeout(e)}},[c,o]),(0,a.jsx)("div",{className:"fixed top-4 left-0 right-0 flex justify-center z-[9999] pointer-events-none",children:(0,a.jsxs)("div",{className:"border rounded px-4 py-3 ".concat(l[t]," ").concat(n," \n                pointer-events-auto w-fit flex justify-between items-center \n                shadow-lg animate-slide-down"),role:"alert",children:[(0,a.jsx)("span",{children:s}),c&&(0,a.jsx)("button",{onClick:c,className:"ml-4 hover:opacity-70 transition-opacity","aria-label":"Close",children:(0,a.jsx)(i.WQq,{size:20})})]})})}},98188:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(37876),r=s(14232),i=s(6246),l=s(28067),n=s(48963);let c=e=>{let{currentPage:t,setCurrentPage:s,totalItems:c,itemsPerPage:o,setItemsPerPage:d,hidePageNumbers:m=!1}=e,[x,u]=(0,r.useState)(!1),h=Math.ceil(c/o);if(c<=1)return null;let g=e=>{e>=1&&e<=h&&s(e)},p=e=>{d(e),s(1),u(!1)};return(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 px-6 bg-white border-t border-gray-200",children:[(0,a.jsx)("div",{className:"flex items-center text-sm text-gray-600",children:(0,a.jsxs)("span",{children:["Page ",t," of ",h]})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>g(t-1),disabled:1===t,className:"w-8 h-8 rounded flex items-center justify-center transition-colors ".concat(1===t?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 cursor-pointer"),children:(0,a.jsx)(i.A,{size:16})}),!m&&(0,a.jsx)("div",{className:"flex items-center gap-1 mx-2",children:(()=>{let e=[];if(h<=5)for(let s=1;s<=h;s++)e.push((0,a.jsx)("button",{onClick:()=>g(s),className:"w-8 h-8 rounded text-sm font-medium transition-colors cursor-pointer ".concat(t===s?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:s},s));else{if(e.push((0,a.jsx)("button",{onClick:()=>g(1),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(1===t?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:"1"},1)),t<=3){for(let s=2;s<=Math.min(4,h-1);s++)e.push((0,a.jsx)("button",{onClick:()=>g(s),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(t===s?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:s},s));h>5&&e.push((0,a.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-gray-400",children:"..."},"ellipsis"))}else if(t>=h-2){h>5&&e.push((0,a.jsx)("span",{className:"w-8 h-8 flex  items-center justify-center text-gray-400",children:"..."},"ellipsis"));for(let s=Math.max(h-3,2);s<=h-1;s++)e.push((0,a.jsx)("button",{onClick:()=>g(s),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(t===s?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:s},s))}else{e.push((0,a.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-gray-400",children:"..."},"ellipsis1"));for(let s=t-1;s<=t+1;s++)e.push((0,a.jsx)("button",{onClick:()=>g(s),className:"w-8 h-8 rounded text-sm cursor-pointer font-medium transition-colors ".concat(t===s?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:s},s));e.push((0,a.jsx)("span",{className:"w-8 h-8 flex items-center justify-center text-gray-400",children:"..."},"ellipsis2"))}h>1&&e.push((0,a.jsx)("button",{onClick:()=>g(h),className:"w-8 h-8 rounded text-sm font-medium transition-colors ".concat(t===h?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),children:h},h))}return e})()}),(0,a.jsx)("button",{onClick:()=>g(t+1),disabled:t===h,className:"w-8 h-8 rounded flex items-center justify-center transition-colors ".concat(t===h?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 cursor-pointer"),children:(0,a.jsx)(l.A,{size:16})})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 relative",children:[(0,a.jsxs)("span",{className:"mr-2",children:[o," per page"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>u(!x),className:"flex items-center cursor-pointer justify-center w-6 h-6 rounded hover:bg-gray-100 transition-colors",children:(0,a.jsx)(n.A,{size:16})}),x&&(0,a.jsx)("div",{className:"absolute right-0 bottom-[35px] mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-10 min-w-[120px]",children:[5,10,20,50].map(e=>(0,a.jsxs)("button",{onClick:()=>p(e),className:"w-full cursor-pointer px-3 py-2 text-left text-sm hover:bg-gray-50 transition-colors ".concat(o===e?"bg-blue-50 text-blue-600":"text-gray-700"),children:[e," per page"]},e))})]})]}),x&&(0,a.jsx)("div",{className:"fixed inset-0 z-0",onClick:()=>u(!1)})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5711,4938,7141,7092,6343,3518,7577,636,6593,8792],()=>t(48035)),_N_E=e.O()}]);